!function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){t.exports=i(1)},function(t,e,i){"use strict";i.r(e);var n,s={SLICE_WIDTH:3,WALL_TEXTURE_WIDTH:64,NUM_WALL_TEXTURES:55,HUD_FACE_WIDTH:48,HUD_FACE_HEIGHT:64,HUD_WEAPON_WIDTH:256,NUMAREAS:37,FIRSTAREA:107,AMBUSHTILE:106,AMBUSH:-2,TILEGLOBAL:65536,HALFTILE:32768,TILESHIFT:16,MINDIST:22528,FLOATTILE:65536,TILE2POS:function(t){return(t<<s.TILESHIFT)+s.HALFTILE},POS2TILE:function(t){return t>>s.TILESHIFT},POS2TILEf:function(t){return t/s.FLOATTILE},ASTEP:.0078125,ASTEPRAD:136354e-9,ANG_1RAD:7333.8598,ANG_0:0,ANG_1:128,ANG_6:768,ANG_15:1920,ANG_22_5:2880,ANG_30:3840,ANG_45:5760,ANG_67_5:8640,ANG_90:11520,ANG_112_5:14400,ANG_135:17280,ANG_157_5:20160,ANG_180:23040,ANG_202_5:25920,ANG_225:28800,ANG_247_5:31680,ANG_270:34560,ANG_292_5:37440,ANG_315:40320,ANG_337_5:43200,ANG_360:46080,ANGLES:360,DEATHROTATE:2,FINE2RAD:function(t){return t*Math.PI/s.ANG_180},RAD2FINE:function(t){return t*s.ANG_180/Math.PI},FINE2DEG:function(t){return t/s.ANG_1>>0},FINE2DEGf:function(t){return t/s.ANG_1},DEG2FINE:function(t){return t*s.ANG_1}},r=(s.MINDIST,64),a=98,o=102,h=104;!function(t){t[t.INVALID=-1]="INVALID",t[t.DOOR_VERT=255]="DOOR_VERT",t[t.DOOR_HORIZ=254]="DOOR_HORIZ",t[t.DOOR_E_VERT=253]="DOOR_E_VERT",t[t.DOOR_E_HORIZ=252]="DOOR_E_HORIZ",t[t.DOOR_G_VERT=251]="DOOR_G_VERT",t[t.DOOR_G_HORIZ=250]="DOOR_G_HORIZ",t[t.DOOR_S_VERT=249]="DOOR_S_VERT",t[t.DOOR_S_HORIZ=248]="DOOR_S_HORIZ"}(n||(n={}));var c,u=function(){function t(t,e,i){this.x=t,this.y=e,this.player=i}return t.prototype.tick=function(){var t=this.timer;t&&(t.t+=1,t.t>64&&(this.isOpen=t.opening,this.timer=void 0))},t.prototype.update=function(t){if(t[" "]&&!this.timer){var e=this.player,i=this.player.getPositionInWorld();if(this.x!==i.worldX||this.y!==i.worldY)return;var n=!0;if(this.isOpen){if(i.dx>0&&i.worldX-e.x<=e.radius||i.dx<0&&e.x-i.worldX-1<=e.radius||i.dy>0&&i.worldY-e.y<=e.radius||i.dy<0&&e.y-i.worldY-1<=e.radius)return;n=!1,this.isOpen=!1}this.timer={x:i.worldX,y:i.worldY,t:0,opening:n}}},t.prototype.getTimer=function(){return this.timer},t}(),p=function(){function t(t){if(this._keys=[],this._values=[],t)for(var e=0;e<t.length;e++)this[t[e].key]=t[e].value,this._keys.push(t[e].key),this._values.push(t[e].value)}return t.prototype.add=function(t,e){this[t]=e,this._keys.push(t),this._values.push(e)},t.prototype.remove=function(t){var e=this._keys.indexOf(t,0);this._keys.splice(e,1),this._values.splice(e,1),delete this[t]},t.prototype.get=function(t){return this[t]},t.prototype.keys=function(){return this._keys},t.prototype.values=function(){return this._values},t.prototype.containsKey=function(t){return void 0!==this[t]},t.prototype.toLookup=function(){return this},t.prototype.count=function(){return this._keys.length},t}();!function(t){t[t.WALL_TILE=1]="WALL_TILE",t[t.PUSHWALL_TILE=1048576]="PUSHWALL_TILE",t[t.DOOR_TILE=2]="DOOR_TILE",t[t.SECRET_TILE=4]="SECRET_TILE",t[t.DRESS_TILE=8]="DRESS_TILE",t[t.BLOCK_TILE=16]="BLOCK_TILE",t[t.ACTOR_TILE=32]="ACTOR_TILE",t[t.DEADACTOR_TILE=64]="DEADACTOR_TILE",t[t.POWERUP_TILE=128]="POWERUP_TILE",t[t.AMBUSH_TILE=256]="AMBUSH_TILE",t[t.EXIT_TILE=512]="EXIT_TILE",t[t.SECRETLEVEL_TILE=1024]="SECRETLEVEL_TILE",t[t.ELEVATOR_TILE=2048]="ELEVATOR_TILE"}(c||(c={}));var l=function(){function t(t){this.speed=.065,this.speedA=.05,this.radius=.25,this.map=t}return t.prototype.turn=function(t){var e=this.dx*Math.cos(t)-this.dy*Math.sin(t);this.dy=this.dx*Math.sin(t)+this.dy*Math.cos(t),this.dx=e},t.prototype.getPositionInWorld=function(){var t=~~this.x,e=~~this.y,i=0,n=0;return Math.abs(this.dx)>=Math.abs(this.dy)?t+=i=this.dx>=0?1:-1:e+=n=this.dy>=0?1:-1,{worldX:t,worldY:e,dx:i,dy:n}},t.prototype.move=function(t){var e=this.x+this.dx*t,i=this.y+this.dy*t;this.canMoveTo(e,this.y)&&(this.x=e),this.canMoveTo(this.x,i)&&(this.y=i)},t.prototype.canMoveTo=function(t,e){var i=this.radius,n=t%1,s=~~t,r=e%1,a=~~e;if(this.isSolidTile(s,a))return!1;if(n<i){if(this.isSolidTile(s-1,a))return!1;if(r<i&&this.isSolidTile(s-1,a-1))return!1;if(r>1-i&&this.isSolidTile(s-1,a+1))return!1}if(n>1-i){if(this.isSolidTile(s+1,a))return!1;if(r<i&&this.isSolidTile(s+1,a-1))return!1;if(r>1-i&&this.isSolidTile(s+1,a+1))return!1}return!(r<i&&this.isSolidTile(s,a-1))&&!(r>1-i&&this.isSolidTile(s,a+1))},t.prototype.isSolidTile=function(t,e){if(this.map.doors.containsKey(t.toFixed()+e.toFixed()))return!this.map.doors.get(t.toFixed()+e.toFixed()).isOpen;var i=this.map.tileMap[t][e];return i===c.WALL_TILE||i===c.BLOCK_TILE||i===c.PUSHWALL_TILE},t.prototype.handleInput=function(t){t.ArrowRight&&this.turn(this.speedA),t.ArrowLeft&&this.turn(-this.speedA),t.ArrowUp&&this.move(this.speed),t.ArrowDown&&this.move(-this.speed)},t}(),f=function(){function t(t,e,i){this.doors=new p,this.plane0=t,this.plane1=e,this.wallTextureOffset=i}return t.prototype.setup=function(){this.player=new l(this),this.setupTileMap();for(var t=0;t<64;t++)for(var e=0;e<64;e++)this.setupWorld(e,t),this.EntitiesAndProps(e,t)},t.prototype.EntitiesAndProps=function(t,e){var i=this.map1(t,e);switch(i){case 19:case 20:case 21:case 22:this.spawnPlayer(t,e,i);break;case 23:case 24:case 25:case 26:case 27:case 28:case 29:case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 65:case 66:case 67:case 68:case 69:case 70:this.spawnStatic(t,e,i);break;case 98:break;case 124:this.spawnDeadGuard(t,e);break;default:i>=108&&this.spawnEnemiesAndGuards(t,e,i)}},t.prototype.spawnEnemiesAndGuards=function(t,e,i){},t.prototype.spawnDeadGuard=function(t,e){},t.prototype.spawnStatic=function(t,e,i){},t.prototype.spawnPlayer=function(t,e,i){this.player.x=t+.5,this.player.y=e+.5,19===i?(this.player.dx=0,this.player.dy=-1):20===i?(this.player.dx=1,this.player.dy=0):21===i?(this.player.dx=0,this.player.dy=1):22===i&&(this.player.dx=-1,this.player.dy=0)},t.prototype.setupWorld=function(t,e){var i=this.map0(t,e);i<=63?this.tileMap[t][e]|=c.WALL_TILE:90<=i&&i<=101&&this.spawnDoor(t,e,i)},t.prototype.spawnDoor=function(t,e,i){if(this.doors.count()>=r)throw new Error("Too many Doors on level!");this.tileMap[t][e]|=c.DOOR_TILE;var s=new u(t,e,this.player);switch(this.doors.add(t.toFixed()+e.toFixed(),s),i){case 90:s.Type=n.DOOR_VERT,s.Vertical=!0,s.TextureIndex=a+1;break;case 91:s.Type=n.DOOR_HORIZ,s.Vertical=!1,s.TextureIndex=a;break;case 92:s.Type=n.DOOR_G_VERT,s.Vertical=!0,s.TextureIndex=h;break;case 93:s.Type=n.DOOR_G_HORIZ,s.Vertical=!1,s.TextureIndex=h;break;case 94:s.Type=n.DOOR_S_VERT,s.Vertical=!0,s.TextureIndex=h+1;break;case 95:s.Type=n.DOOR_G_HORIZ,s.Vertical=!1,s.TextureIndex=h+1;break;case 100:s.Type=n.DOOR_G_VERT,s.Vertical=!0,s.TextureIndex=o+1;break;case 101:s.Type=n.DOOR_E_HORIZ,s.Vertical=!1,s.TextureIndex=o;break;default:throw new Error("Unknown door type: "+i)}},t.prototype.map0=function(t,e){return this.plane0.getUint16(2*(t+64*e),!0)},t.prototype.map1=function(t,e){return this.plane1.getUint16(2*(t+64*e),!0)},t.prototype.setupTileMap=function(){this.tileMap=[];for(var t=0;t<64;t++){var e=Array(64);e.fill(0),this.tileMap.push(e)}},t.prototype.handleInput=function(t){var e=this;this.doors.keys().forEach((function(i){e.doors.get(i).update(t)}))},t.prototype.tick=function(){var t=this;this.doors.keys().forEach((function(e){t.doors.get(e).tick()}))},t}(),d=function(){function t(){}return t.prototype.loadResources=function(){var t=this,e=this.getBinaryFile("GAMEMAPS.WL6"),i=this.getBinaryFile("MAPHEAD.WL6"),n=this.getBinaryFile("VSWAP.WL6");return e.then((function(e){return t.gameMaps=e})),i.then((function(e){return t.mapHead=e})),n.then((function(e){t.wsMap=new DataView(e),t.wallTextureOffset=t.wsMap.getUint32(6,!0)})),Promise.all([e,i,n])},t.prototype.getBinaryFile=function(t){return new Promise((function(e){var i=new XMLHttpRequest;i.onload=function(){return e(i.response)},i.responseType="arraybuffer",i.open("GET",t),i.send()}))},t.prototype.loadLevel=function(t){var e=new DataView(this.mapHead).getUint32(2+4*t,!0),i=new DataView(this.gameMaps,e,42),n=new DataView(this.gameMaps,i.getUint32(0,!0),i.getUint16(12,!0)),s=this.rlewDecode(this.carmackDecode(n)),r=new DataView(this.gameMaps,i.getUint32(4,!0),i.getUint16(14,!0)),a=this.rlewDecode(this.carmackDecode(r)),o=new f(s,a,this.wallTextureOffset);return o.setup(),o},t.prototype.rlewDecode=function(t){for(var e=new DataView(this.mapHead).getUint16(0,!0),i=t.getUint16(0,!0),n=new ArrayBuffer(i),s=new DataView(n),r=2,a=0;r<t.byteLength;){var o=t.getUint16(r,!0);if(r+=2,o===e){var h=t.getUint16(r,!0),c=t.getUint16(r+2,!0);r+=4;for(var u=0;u<h;u++)s.setUint16(a,c,!0),a+=2}else s.setUint16(a,o,!0),a+=2}return s},t.prototype.carmackDecode=function(t){for(var e=t.getUint16(0,!0),i=new ArrayBuffer(e),n=new DataView(i),s=2,r=0;s<t.byteLength;){var a=t.getUint8(s+1);if(167===a||168===a){var o=t.getUint8(s);if(0===o)n.setUint8(r,t.getUint8(s+2)),n.setUint8(r+1,a),s+=3,r+=2;else if(167===a){for(var h=2*t.getUint8(s+2),c=0;c<o;c++)n.setUint16(r,n.getUint16(r-h,!0),!0),r+=2;s+=3}else{for(h=2*t.getUint16(s+2,!0),c=0;c<o;c++)n.setUint16(r,n.getUint16(h+2*c,!0),!0),r+=2;s+=4}}else n.setUint16(r,t.getUint16(s,!0),!0),s+=2,r+=2}return n},t}(),y=new Uint32Array([4278190080,4289200128,4278233088,4289243136,4278190248,4289200296,4278211752,4289243304,4283716692,4294726740,4283759700,4294769748,4283716860,4294726908,4283759868,4294769916,4293717228,4292664540,4291875024,4290822336,4290032820,4289243304,4288190616,4287401100,4286348412,4285558896,4284769380,4283716692,4282927176,4281874488,4281084972,4280295456,4278190332,4278190316,4278190304,4278190292,4278190280,4278190268,4278190256,4278190244,4278190232,4278190216,4278190204,4278190192,4278190180,4278190168,4278190156,4278190144,4292401404,4290296060,4288453884,4286348540,4284243196,4282401020,4280295676,4278190332,4284262652,4282423548,4280322300,4278221052,4278217956,4278214860,4278211764,4278209692,4292410620,4290313468,4288478460,4286381308,4284283132,4282447100,4280349948,4278252796,4278245604,4278240460,4278234292,4278230172,4278224004,4278217840,4278211672,4278206528,4284284112,4282449092,4280351924,4278254752,4278248592,4278242432,4278236276,4278230112,4292410584,4290313404,4288478364,4286381184,4284284e3,4282448960,4280351776,4278254592,4278254592,4278250496,4278247424,4278244352,4278241284,4278238212,4278235140,4278232068,4278228996,4278224900,4278221828,4278218756,4278215684,4278212612,4278209540,4278206468,4294769880,4294769848,4294769820,4294507644,4294769756,4294769728,4294769696,4294769664,4293190656,4291611648,4290032640,4288453632,4286874624,4285558784,4283979776,4282400768,4294753372,4294750272,4294748192,4294745088,4293168128,4291591168,4290014208,4288437248,4294760664,4294753464,4294745244,4294738044,4294729820,4294721600,4294714400,4294706176,4294705152,4293656576,4292870144,4292083712,4291297280,4290510848,4289724416,4288937984,4288151552,4287102976,4286316544,4285530112,4284743680,4283957248,4283170816,4282384384,4280821800,4281655548,4280603900,4279815420,4278763772,4278236412,4294713524,4294705320,4293132440,4291559552,4289986676,4288413792,4286840912,4285530180,4283957300,4282384424,4294760700,4294752508,4294745340,4294737148,4294728956,4294721788,4294713596,4294705404,4293132512,4291559624,4289986740,4288413852,4286840964,4285530220,4283957336,4282384448,4292667644,4291879164,4291090684,4290565372,4289776892,4288988412,4288462076,4287674620,4286623996,4285572348,4284521724,4284257520,4283993320,4283730140,4283465936,4283202760,4282939580,4282675380,4282411176,4282148e3,4281884828,4281621648,4281358472,4281094272,4280831092,4280567916,4280303708,4280040532,4279777352,4279775296,4279512120,4278984744,4284743776,4284769280,4284506112,4280025088,4281073664,4279247920,4282908744,4283433040,4281597952,4280032284,4283190348,4284243036,4282400832,4281348144,4281611316,4294243544,4293454008,4292664476,4291348596,4290822216,4290032672,4289769504,4288979968,4288190464,4287400960,4286874624,4286348288,4286085120,4285821952,4285558784,4285295616,4287103128]),_=function(){function t(t,e,i,n){this.fov=1,this.gameAssets=t,this.map=e,this.gameWidth=i,this.gameHeight=n,this.wallHeight=this.gameWidth/(2*this.fov),this.player=this.map.player}return t.prototype.draw=function(t){for(var e=0;e<this.gameWidth;e++){var i=this.fov*((e<<1)-this.gameWidth)/this.gameWidth,n=this.player.dx-i*this.player.dy,s=this.player.dy+i*this.player.dx,r=(this.player.x,this.player.y,n>=0?1:-1),a=s>=0?1:-1;n*=r,s*=a;var o=~~this.player.x,h=~~this.player.y,c=r>0?1-this.player.x%1:this.player.x%1;0===c&&(c=1,o+=r);var u=a>0?1-this.player.y%1:this.player.y%1;0===u&&(u=1,h+=a);for(var p=0,l=void 0,f=void 0,d=void 0;;){if((l=this.map.map0(o,h))<=63){var _=0;if(98===this.map.map1(o,h)){!0;var T=void 0;if(void 0!==(T=void 0))if(_=T.t/64,0!==T.dx){if(!(n*u>=s*_)){!1,p+=m=u/s,u=1,h+=a,c-=m*n;continue}p+=m=_/n,u-=m*s,c-=_}else{if(!(s*c>=n*_)){!1,p+=m=c/n,c=1,o+=r,u-=m*s;continue}p+=m=_/s,c-=m*n,u-=_}}c===1-_?(d=2*l-1,f=r*a>0?1-u:u):(d=2*l-2,f=r*a<0?1-c:c);break}if(l<=101){var E=this.map.doors.get(o.toFixed()+h.toFixed()),g=0;if((T=E.getTimer())&&(g=T.opening?T.t/64:1-T.t/64),E.isOpen&&(g=1),l%2==0){if(c>=.5&&(c-.5)*s<u*n)if(p+=m=(c-.5)/n,u-=m*s,c=.5,f=a>0?1-u:u,(f-=g)>=0){switch(l){case 90:d=99;break;case 92:case 94:d=105;break;case 100:d=103}break}if(c*s>=u*n){p+=m=u/s,c-=m*n,u=1,h+=a,d=100,f=r>0?1-c:c;break}p+=m=c/n,u-=m*s,c=1,o+=r}else{if(u>=.5&&(u-.5)*n<c*s)if(p+=m=(u-.5)/s,c-=m*n,u=.5,f=r>0?1-c:c,(f-=g)>=0){switch(l){case 91:d=98;break;case 93:case 95:d=104;break;case 101:d=102}break}if(u*n>=c*s){p+=m=c/n,u-=m*s,c=1,o+=r,d=101,f=a>0?1-u:u;break}p+=m=u/s,c-=m*n,u=1,h+=a}}var m;if(c*s<=u*n)p+=m=c/n,c=1,o+=r,u-=m*s;else p+=m=u/s,u=1,h+=a,c-=m*n}r>0?o+1-c:o+c,a>0?h+1-u:h+u;for(var v=this.wallHeight/(2*p),O=~~(this.gameHeight/2-v),w=(this.gameHeight/2-v)%1,A=~~(v/32),I=v/32%1,L=this.map.wallTextureOffset+4096*d+64*~~(64*f),D=0;D<=O;D++)t.setUint32(this.gameWidth*D+e<<2,y[29],!0),t.setUint32(this.gameWidth*(this.gameHeight-1-D)+e<<2,y[25],!0);for(D=L;D<L+64;D++){var R;if(R=y[this.gameAssets.wsMap.getUint8(D)],(w+=I)>=1){for(var x=Math.max(0,O);x<Math.min(this.gameHeight,O+A+1);x++)t.setUint32(this.gameWidth*x+e<<2,R,!0);O+=A+1,w-=1}else{for(x=Math.max(0,O);x<Math.min(this.gameHeight,O+A);x++)t.setUint32(this.gameWidth*x+e<<2,R,!0);O+=A}}}},t}(),T=function(){function t(t,e){this.gameWidth=640,this.gameHeight=400,this.canvas=t,this.gameAssets=e,this.canvas.width=this.gameWidth,this.canvas.height=this.gameHeight,this.context=this.canvas.getContext("2d",{alpha:!1}),this.imageData=new ImageData(this.gameWidth,this.gameHeight),this.pixels=new DataView(this.imageData.data.buffer)}return t.prototype.initialize=function(){this.map=this.gameAssets.loadLevel(0),this.player=this.map.player,this.worldRenderer=new _(this.gameAssets,this.map,this.gameWidth,this.gameHeight)},t.prototype.update=function(t){this.player.handleInput(t),this.map.handleInput(t),this.map.tick()},t.prototype.draw=function(){this.worldRenderer.draw(this.pixels),this.context.putImageData(this.imageData,0,0),this.context.drawImage(this.canvas,0,0)},t}(),E=function(t,e,i,n){return new(i||(i=Promise))((function(s,r){function a(t){try{h(n.next(t))}catch(t){r(t)}}function o(t){try{h(n.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?s(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(a,o)}h((n=n.apply(t,e||[])).next())}))},g=function(t,e){var i,n,s,r,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,n&&(s=2&r[0]?n.return:r[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,r[1])).done)return s;switch(n=0,s&&(r=[2&r[0],s.value]),r[0]){case 0:case 1:s=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(s=a.trys,(s=s.length>0&&s[s.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){a.label=r[1];break}if(6===r[0]&&a.label<s[1]){a.label=s[1],s=r;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(r);break}s[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],n=0}finally{i=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},m=function(){function t(){this.gameAssets=new d,this.keys={}}return t.prototype.run=function(){return E(this,void 0,void 0,(function(){var t=this;return g(this,(function(e){switch(e.label){case 0:return[4,this.gameAssets.loadResources()];case 1:return e.sent(),this.canvas=document.createElement("canvas"),this.game=new T(this.canvas,this.gameAssets),document.body.appendChild(this.canvas),this.game.initialize(),this.tick=this.tick.bind(this),this.tick(),document.onkeydown=function(e){e.preventDefault(),t.keys[e.key]=!0},document.onkeyup=function(e){e.preventDefault(),t.keys[e.key]=!1},[2]}}))}))},t.prototype.tick=function(){this.game.update(this.keys),this.game.draw(),requestAnimationFrame(this.tick)},t}();window.onload=function(){(new m).run().catch((function(t){console.error(t)}))}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vRGVmcy93b2xmLWNvbnN0LnRzIiwid2VicGFjazovLy8uL0RlZnMvZG9vci10eXBlLnRzIiwid2VicGFjazovLy8uL0RlZnMvZG9vci1jb25zdC50cyIsIndlYnBhY2s6Ly8vLi9FbnRpdGllcy9kb29yLnRzIiwid2VicGFjazovLy8uL0dhbWUvdGlsZS10eXBlLnRzIiwid2VicGFjazovLy8uL0hlbHBlcnMvZGljdGlvbmFyeS50cyIsIndlYnBhY2s6Ly8vLi9HYW1lL3BsYXllci50cyIsIndlYnBhY2s6Ly8vLi9HYW1lL21hcC50cyIsIndlYnBhY2s6Ly8vLi9HYW1lL2dhbWUtYXNzZXRzLnRzIiwid2VicGFjazovLy8uL0RlZnMvcGFsZXR0ZS50cyIsIndlYnBhY2s6Ly8vLi9SZW5kZXJpbmcvd29ybGQtcmVuZGVyZXIudHMiLCJ3ZWJwYWNrOi8vLy4vR2FtZS9nYW1lLnRzIiwid2VicGFjazovLy8uL3dvbGYudHMiLCJ3ZWJwYWNrOi8vLy4vaW5kZXgudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJEb29yVHlwZSIsIldvbGZDb25zdCIsIlNMSUNFX1dJRFRIIiwiV0FMTF9URVhUVVJFX1dJRFRIIiwiTlVNX1dBTExfVEVYVFVSRVMiLCJIVURfRkFDRV9XSURUSCIsIkhVRF9GQUNFX0hFSUdIVCIsIkhVRF9XRUFQT05fV0lEVEgiLCJOVU1BUkVBUyIsIkZJUlNUQVJFQSIsIkFNQlVTSFRJTEUiLCJBTUJVU0giLCJUSUxFR0xPQkFMIiwiSEFMRlRJTEUiLCJUSUxFU0hJRlQiLCJNSU5ESVNUIiwiRkxPQVRUSUxFIiwiVElMRTJQT1MiLCJhIiwiUE9TMlRJTEUiLCJQT1MyVElMRWYiLCJBU1RFUCIsIkFTVEVQUkFEIiwiQU5HXzFSQUQiLCJBTkdfMCIsIkFOR18xIiwiQU5HXzYiLCJBTkdfMTUiLCJBTkdfMjJfNSIsIkFOR18zMCIsIkFOR180NSIsIkFOR182N181IiwiQU5HXzkwIiwiQU5HXzExMl81IiwiQU5HXzEzNSIsIkFOR18xNTdfNSIsIkFOR18xODAiLCJBTkdfMjAyXzUiLCJBTkdfMjI1IiwiQU5HXzI0N181IiwiQU5HXzI3MCIsIkFOR18yOTJfNSIsIkFOR18zMTUiLCJBTkdfMzM3XzUiLCJBTkdfMzYwIiwiQU5HTEVTIiwiREVBVEhST1RBVEUiLCJGSU5FMlJBRCIsIk1hdGgiLCJQSSIsIlJBRDJGSU5FIiwiRklORTJERUciLCJGSU5FMkRFR2YiLCJERUcyRklORSIsIkRvb3JDb25zdHMiLCJUaWxlVHlwZSIsIngiLCJ5IiwicGxheWVyIiwidGhpcyIsInRpY2siLCJ0aW1lciIsImlzT3BlbiIsIm9wZW5pbmciLCJ1bmRlZmluZWQiLCJ1cGRhdGUiLCJrZXlzIiwicFciLCJnZXRQb3NpdGlvbkluV29ybGQiLCJ3b3JsZFgiLCJ3b3JsZFkiLCJkeCIsInJhZGl1cyIsImR5IiwiZ2V0VGltZXIiLCJpbml0IiwiX2tleXMiLCJfdmFsdWVzIiwibGVuZ3RoIiwicHVzaCIsImFkZCIsInJlbW92ZSIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsInZhbHVlcyIsImNvbnRhaW5zS2V5IiwidG9Mb29rdXAiLCJjb3VudCIsIm1hcCIsInNwZWVkIiwic3BlZWRBIiwidHVybiIsImFscGhhIiwiY29zIiwic2luIiwiYWJzIiwibW92ZSIsImNhbk1vdmVUbyIsImZ4IiwieGkiLCJmeSIsInlpIiwiaXNTb2xpZFRpbGUiLCJkb29ycyIsInRvRml4ZWQiLCJ0aWxlVHlwZSIsInRpbGVNYXAiLCJXQUxMX1RJTEUiLCJCTE9DS19USUxFIiwiUFVTSFdBTExfVElMRSIsImhhbmRsZUlucHV0IiwicGxhbmUwIiwicGxhbmUxIiwid2FsbFRleHR1cmVPZmZzZXQiLCJEaWN0aW9uYXJ5Iiwic2V0dXAiLCJzZXR1cFRpbGVNYXAiLCJzZXR1cFdvcmxkIiwiRW50aXRpZXNBbmRQcm9wcyIsInRpbGUiLCJtYXAxIiwic3Bhd25QbGF5ZXIiLCJzcGF3blN0YXRpYyIsInNwYXduRGVhZEd1YXJkIiwic3Bhd25FbmVtaWVzQW5kR3VhcmRzIiwibTEiLCJtYXAwIiwic3Bhd25Eb29yIiwiRXJyb3IiLCJET09SX1RJTEUiLCJkb29yIiwiRG9vciIsIlR5cGUiLCJET09SX1ZFUlQiLCJWZXJ0aWNhbCIsIlRleHR1cmVJbmRleCIsIkRPT1JfSE9SSVoiLCJET09SX0dfVkVSVCIsIkRPT1JfR19IT1JJWiIsIkRPT1JfU19WRVJUIiwiRE9PUl9FX0hPUklaIiwiZ2V0VWludDE2IiwibGluZSIsIkFycmF5IiwiZmlsbCIsImZvckVhY2giLCJsb2FkUmVzb3VyY2VzIiwiZ2FtZW1hcHNQcm9taXNlIiwiZ2V0QmluYXJ5RmlsZSIsIm1hcGhlYWRQcm9taXNlIiwidnN3YXBQcm9taXNlIiwidGhlbiIsInJlcSIsImdhbWVNYXBzIiwibWFwSGVhZCIsIndzTWFwIiwiRGF0YVZpZXciLCJnZXRVaW50MzIiLCJQcm9taXNlIiwiYWxsIiwidXJsIiwicmVzb2x2ZSIsIlhNTEh0dHBSZXF1ZXN0Iiwib25sb2FkIiwicmVzcG9uc2UiLCJyZXNwb25zZVR5cGUiLCJvcGVuIiwic2VuZCIsImxvYWRMZXZlbCIsImxldmVsIiwib2Zmc2V0IiwibWFwSGVhZGVyIiwicGxhbmUwVmlldyIsInJsZXdEZWNvZGUiLCJjYXJtYWNrRGVjb2RlIiwicGxhbmUxVmlldyIsImluVmlldyIsInJsZXdUYWciLCJzaXplIiwiYnVmZmVyIiwiQXJyYXlCdWZmZXIiLCJvdXRWaWV3IiwiaW5PZmZzZXQiLCJvdXRPZmZzZXQiLCJieXRlTGVuZ3RoIiwidyIsInNldFVpbnQxNiIsImdldFVpbnQ4Iiwic2V0VWludDgiLCJwYWxldHRlIiwiVWludDMyQXJyYXkiLCJnYW1lQXNzZXRzIiwiZ2FtZVdpZHRoIiwiZ2FtZUhlaWdodCIsImZvdiIsIndhbGxIZWlnaHQiLCJkcmF3IiwiZGF0YSIsInNoaWZ0IiwicmR4IiwicmR5Iiwic3RlcHgiLCJzdGVweSIsImN4IiwiY3kiLCJyZngiLCJyZnkiLCJtMCIsInR4IiwidGV4dHVyZUluZGV4Iiwid2FsbFNoaWZ0IiwiZHQiLCJkb29yU2hpZnQiLCJoIiwieWYiLCJzdGVwaSIsInN0ZXBmIiwidGV4ZWxPZmZzZXQiLCJqIiwic2V0VWludDMyIiwiY29sIiwiayIsIm1heCIsIm1pbiIsImNhbnZhcyIsIndpZHRoIiwiaGVpZ2h0IiwiY29udGV4dCIsImdldENvbnRleHQiLCJpbWFnZURhdGEiLCJJbWFnZURhdGEiLCJwaXhlbHMiLCJpbml0aWFsaXplIiwid29ybGRSZW5kZXJlciIsInB1dEltYWdlRGF0YSIsImRyYXdJbWFnZSIsInJ1biIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImdhbWUiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJvbmtleWRvd24iLCJldiIsInByZXZlbnREZWZhdWx0Iiwib25rZXl1cCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIndpbmRvdyIsImNhdGNoIiwiY29uc29sZSIsImVycm9yIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FB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QUNwRixXQUFZLFdBQVksV0FBWSxXQUFZLFdBQVksV0FBWSxXQUFZLFdBQ3BGLFdBQVksV0FBWSxXQUFZLFdBQVksV0FBWSxXQUFZLFdBQVksV0FDcEYsV0FBWSxXQUFZLFdBQVksV0FBWSxXQUFZLFdBQVksV0FBWSxXQUNwRixXQUFZLFdBQVksV0FBWSxXQUFZLFdBQVksV0FBWSxXQUFZLFdBQ3BGLFdBQVksV0FBWSxXQUFZLFdBQVksV0FBWSxXQUFZLFdBQVksV0FDcEYsV0FBWSxXQUFZLFdBQVksV0FBWSxXQUFZLFdBQVksV0FBWSxXQUNwRixXQUFZLFdBQVksV0FBWSxXQUFZLFdBQVksV0FBWSxXQUFZLFdBQ3BGLFdBQVksV0FBWSxXQUFZLFdBQVksV0FBWSxXQUFZLFdBQVksV0FDcEYsV0FBWSxXQUFZLFdBQVksV0FBWSxXQUFZLFdBQVksV0FBWSxXQUNwRixXQUFZLFdBQVksV0FBWSxXQUFZLFdBQVksV0FBWSxXQUFZLFdBQ3BGLFdBQVksV0FBWSxXQUFZLFdBQVksV0FBWSxXQUFZLFdBQVksV0FDcEYsV0FBWSxXQUFZLFdBQVksV0FBWSxXQUFZLFdBQVksV0FBWSxXQUNwRixXQUFZLFdBQVksV0FBWSxXQUFZLFdBQVksV0FBWSxXQUFZLFdBQ3BGLFdBQVksV0FBWSxXQUFZLFdBQVksV0FBWSxXQUFZLFdBQVksV0FDcEYsV0FBWSxXQUFZLFdBQVksVUFBWSxXQUFZLFdBQVksV0FBWSxXQUNwRixXQUFZLFdBQVksV0FBWSxXQUFZLFdBQVksV0FBWSxXQUFZLFdBQ3BGLFdBQVksV0FBWSxXQUFZLFdBQVksV0FBWSxXQUFZLFdBQVksV0FDcEYsV0FBWSxXQUFZLFdBQVksV0FBWSxXQUFZLFdBQVksV0FBWSxXQUNwRixXQUFZLFdBQVksV0FBWSxXQUFZLFdBQVksV0FBWSxXQUFZLFdBQ3BGLFdBQVksV0FBWSxXQUFZLFdBQVksV0FBWSxXQUFZLFdBQVksYUMvQnhGLGFBU0ksV0FBWUMsRUFBd0J2RyxFQUFVd0csRUFBbUJDLEdBSHpELEtBQUFDLElBQU0sRUFJVnhJLEtBQUtxSSxXQUFhQSxFQUNsQnJJLEtBQUs4QixJQUFNQSxFQUNYOUIsS0FBS3NJLFVBQVlBLEVBQ2pCdEksS0FBS3VJLFdBQWFBLEVBQ2xCdkksS0FBS3lJLFdBQWF6SSxLQUFLc0ksV0FBYSxFQUFJdEksS0FBS3dJLEtBQzdDeEksS0FBS0QsT0FBU0MsS0FBSzhCLElBQUkvQixPQW1SL0IsT0FoUlcsWUFBQTJJLEtBQVAsU0FBWUMsR0FDUixJQUFLLElBQUl0TyxFQUFJLEVBQUdBLEVBQUkyRixLQUFLc0ksVUFBV2pPLElBQUssQ0FDckMsSUFHTXVPLEVBQVE1SSxLQUFLd0ksTUFBUW5PLEdBQUssR0FBSzJGLEtBQUtzSSxXQUFhdEksS0FBS3NJLFVBRXhETyxFQUFNN0ksS0FBS0QsT0FBT2EsR0FBS2dJLEVBQVE1SSxLQUFLRCxPQUFPZSxHQUMzQ2dJLEVBQU05SSxLQUFLRCxPQUFPZSxHQUFLOEgsRUFBUTVJLEtBQUtELE9BQU9hLEdBS3pDbUksR0FISy9JLEtBQUtELE9BQU9GLEVBQ1pHLEtBQUtELE9BQU9ELEVBRVQrSSxHQUFPLEVBQUksR0FBSyxHQUN4QkcsRUFBUUYsR0FBTyxFQUFJLEdBQUssRUFFOUJELEdBQU1FLEVBQ05ELEdBQU1FLEVBRU4sSUFBSUMsSUFBT2pKLEtBQUtELE9BQU9GLEVBQ25CcUosSUFBT2xKLEtBQUtELE9BQU9ELEVBRW5CcUosRUFBTUosRUFBUSxFQUFJLEVBQUsvSSxLQUFLRCxPQUFPRixFQUFJLEVBQUtHLEtBQUtELE9BQU9GLEVBQUksRUFDcEQsSUFBUnNKLElBQ0FBLEVBQU0sRUFDTkYsR0FBTUYsR0FFVixJQUFJSyxFQUFNSixFQUFRLEVBQUksRUFBS2hKLEtBQUtELE9BQU9ELEVBQUksRUFBS0UsS0FBS0QsT0FBT0QsRUFBSSxFQUNwRCxJQUFSc0osSUFDQUEsRUFBTSxFQUNORixHQUFNRixHQWFWLElBVkEsSUFHSXpOLEVBQUksRUFFSjhOLE9BQUUsRUFFRkMsT0FBRSxFQUVGQyxPQUFZLElBQ0gsQ0FFVCxJQURBRixFQUFLckosS0FBSzhCLElBQUlzQyxLQUFLNkUsRUFBSUMsS0FDYixHQUFJLENBRVYsSUFBSU0sRUFBWSxFQUNoQixHQUE4QixLQUExQnhKLEtBQUs4QixJQUFJZ0MsS0FBS21GLEVBQUlDLEdBQVksRUFDakIsRUFFYixJQUFJaEosT0FBSyxFQU1ULFFBQWNHLEtBTGRILE9BQVFHLEdBT0osR0FEQW1KLEVBQVl0SixFQUFNM0UsRUFBSSxHQUNMLElBQWIyRSxFQUFNVSxHQUFVLENBRWhCLEtBQUlpSSxFQUFNTyxHQUFPTixFQUFNVSxHQU1oQixFQUVVLEVBRWJqTyxHQURNa08sRUFBS0wsRUFBTU4sRUFFakJNLEVBQU0sRUFDTkYsR0FBTUYsRUFDTkcsR0FBT00sRUFBS1osRUFDWixTQVhBdE4sR0FETWtPLEVBQUtELEVBQVlYLEVBRXZCTyxHQUFPSyxFQUFLWCxFQUNaSyxHQUFPSyxNQVdSLENBRUgsS0FBSVYsRUFBTUssR0FBT04sRUFBTVcsR0FNaEIsRUFFVSxFQUViak8sR0FETWtPLEVBQUtOLEVBQU1OLEVBRWpCTSxFQUFNLEVBQ05GLEdBQU1GLEVBQ05LLEdBQU9LLEVBQUtYLEVBQ1osU0FYQXZOLEdBRE1rTyxFQUFLRCxFQUFZVixFQUV2QkssR0FBT00sRUFBS1osRUFDWk8sR0FBT0ksR0FjbkJMLElBQVEsRUFBSUssR0FFWkQsRUFBZSxFQUFJRixFQUFLLEVBRXhCQyxFQUFLUCxFQUFRQyxFQUFRLEVBQUksRUFBSUksRUFBTUEsSUFHbkNHLEVBQWUsRUFBSUYsRUFBSyxFQUV4QkMsRUFBS1AsRUFBUUMsRUFBUSxFQUFJLEVBQUlHLEVBQU1BLEdBRXZDLE1BQ0csR0FBSUUsR0FBTSxJQUFLLENBRWxCLElBQU03RSxFQUFPeEUsS0FBSzhCLElBQUllLE1BQU0zSCxJQUFJK04sRUFBR25HLFVBQVlvRyxFQUFHcEcsV0FDOUM0RyxFQUFZLEVBWWhCLElBWE14SixFQUFRc0UsRUFBS3pELGNBR1gySSxFQURBeEosRUFBTUUsUUFDTUYsRUFBTTNFLEVBQUksR0FFVixFQUFJMkUsRUFBTTNFLEVBQUksSUFHOUJpSixFQUFLckUsU0FDTHVKLEVBQVksR0FFWkwsRUFBSyxHQUFNLEVBQUcsQ0FFZCxHQUFJRixHQUFPLEtBQU9BLEVBQU0sSUFBTUwsRUFBTU0sRUFBTVAsRUFRdEMsR0FMQXROLEdBRE1rTyxHQUFNTixFQUFNLElBQU1OLEVBRXhCTyxHQUFPSyxFQUFLWCxFQUNaSyxFQUFNLEdBQ05HLEVBQUtOLEVBQVEsRUFBSSxFQUFJSSxFQUFNQSxHQUMzQkUsR0FBTUksSUFDSSxFQUFHLENBRVQsT0FBUUwsR0FDSixLQUFLLEdBQ0RFLEVBQWUsR0FDZixNQUNKLEtBQUssR0FHTCxLQUFLLEdBQ0RBLEVBQWUsSUFDZixNQUNKLEtBQUssSUFDREEsRUFBZSxJQUd2QixNQUdSLEdBQUlKLEVBQU1MLEdBQU9NLEVBQU1QLEVBQUssQ0FHeEJ0TixHQURNa08sRUFBS0wsRUFBTU4sRUFFakJLLEdBQU9NLEVBQUtaLEVBQ1pPLEVBQU0sRUFDTkYsR0FBTUYsRUFDTk8sRUFBZSxJQUNmRCxFQUFLUCxFQUFRLEVBQUksRUFBSUksRUFBTUEsRUFDM0IsTUFJQTVOLEdBRE1rTyxFQUFLTixFQUFNTixFQUVqQk8sR0FBT0ssRUFBS1gsRUFDWkssRUFBTSxFQUNORixHQUFNRixNQUVQLENBRUgsR0FBSUssR0FBTyxLQUFPQSxFQUFNLElBQU1QLEVBQU1NLEVBQU1MLEVBUXRDLEdBTEF2TixHQURNa08sR0FBTUwsRUFBTSxJQUFNTixFQUV4QkssR0FBT00sRUFBS1osRUFDWk8sRUFBTSxHQUNORSxFQUFLUCxFQUFRLEVBQUksRUFBSUksRUFBTUEsR0FDM0JHLEdBQU1JLElBQ0ksRUFBRyxDQUVULE9BQVFMLEdBQ0osS0FBSyxHQUNERSxFQUFlLEdBQ2YsTUFDSixLQUFLLEdBR0wsS0FBSyxHQUNEQSxFQUFlLElBQ2YsTUFDSixLQUFLLElBQ0RBLEVBQWUsSUFHdkIsTUFHUixHQUFJSCxFQUFNUCxHQUFPTSxFQUFNTCxFQUFLLENBR3hCdk4sR0FETWtPLEVBQUtOLEVBQU1OLEVBRWpCTyxHQUFPSyxFQUFLWCxFQUNaSyxFQUFNLEVBQ05GLEdBQU1GLEVBQ05RLEVBQWUsSUFDZkQsRUFBS04sRUFBUSxFQUFJLEVBQUlJLEVBQU1BLEVBQzNCLE1BSUE3TixHQURNa08sRUFBS0wsRUFBTU4sRUFFakJLLEdBQU9NLEVBQUtaLEVBQ1pPLEVBQU0sRUFDTkYsR0FBTUYsR0FPZCxJQU9NUyxFQVRWLEdBQUlOLEVBQU1MLEdBQU9NLEVBQU1QLEVBR25CdE4sR0FETWtPLEVBQUtOLEVBQU1OLEVBRWpCTSxFQUFNLEVBQ05GLEdBQU1GLEVBQ05LLEdBQU9LLEVBQUtYLE9BSVp2TixHQURNa08sRUFBS0wsRUFBTU4sRUFFakJNLEVBQU0sRUFDTkYsR0FBTUYsRUFDTkcsR0FBT00sRUFBS1osRUFJZkUsRUFBUSxFQUFJRSxFQUFLLEVBQUlFLEVBQU1GLEVBQUtFLEVBQ2hDSCxFQUFRLEVBQUlFLEVBQUssRUFBSUUsRUFBTUYsRUFBS0UsRUFTckMsSUFSQSxJQUFNTyxFQUFJM0osS0FBS3lJLFlBQWMsRUFBSWxOLEdBRzdCb0gsS0FBUTNDLEtBQUt1SSxXQUFhLEVBQUlvQixHQUM5QkMsR0FBTTVKLEtBQUt1SSxXQUFhLEVBQUlvQixHQUFLLEVBQy9CRSxLQUFXRixFQUFJLElBQ2ZHLEVBQVNILEVBQUksR0FBTSxFQUNuQkksRUFBYy9KLEtBQUs4QixJQUFJeUIsa0JBQW9CLEtBQU9nRyxFQUFlLE1BQVEsR0FBS0QsR0FDM0VVLEVBQUksRUFBR0EsR0FBS3JILEVBQUlxSCxJQUNyQnJCLEVBQUtzQixVQUFXakssS0FBS3NJLFVBQVkwQixFQUFJM1AsR0FBTSxFQUFHOE4sRUFBUSxLQUFLLEdBQzNEUSxFQUFLc0IsVUFBV2pLLEtBQUtzSSxXQUFhdEksS0FBS3VJLFdBQWEsRUFBSXlCLEdBQUszUCxHQUFNLEVBQUc4TixFQUFRLEtBQUssR0FFdkYsSUFBUzZCLEVBQUlELEVBQWFDLEVBQUlELEVBQWMsR0FBSUMsSUFBSyxDQUNqRCxJQUFJRSxFQUdKLEdBRkFBLEVBQU0vQixFQUFRbkksS0FBS3FJLFdBQVdwQyxNQUFNZ0MsU0FBUytCLEtBQzdDSixHQUFNRSxJQUNJLEVBQUcsQ0FDVCxJQUFLLElBQUlLLEVBQUk5SyxLQUFLK0ssSUFBSSxFQUFHekgsR0FBS3dILEVBQUk5SyxLQUFLZ0wsSUFBSXJLLEtBQUt1SSxXQUFZNUYsRUFBS2tILEVBQVEsR0FBSU0sSUFDekV4QixFQUFLc0IsVUFBV2pLLEtBQUtzSSxVQUFZNkIsRUFBSTlQLEdBQU0sRUFBRzZQLEdBQUssR0FFdkR2SCxHQUFNa0gsRUFBUSxFQUNkRCxHQUFNLE1BQ0gsQ0FDSCxJQUFTTyxFQUFJOUssS0FBSytLLElBQUksRUFBR3pILEdBQUt3SCxFQUFJOUssS0FBS2dMLElBQUlySyxLQUFLdUksV0FBWTVGLEVBQUtrSCxHQUFRTSxJQUNyRXhCLEVBQUtzQixVQUFXakssS0FBS3NJLFVBQVk2QixFQUFJOVAsR0FBTSxFQUFHNlAsR0FBSyxHQUV2RHZILEdBQU1rSCxNQUsxQixFQWxTQSxHQ0NBLGFBWUksV0FBWVMsRUFBMkJqQyxHQVgvQixLQUFBQyxVQUFZLElBQ1osS0FBQUMsV0FBYSxJQVdqQnZJLEtBQUtzSyxPQUFTQSxFQUNkdEssS0FBS3FJLFdBQWFBLEVBQ2xCckksS0FBS3NLLE9BQU9DLE1BQVF2SyxLQUFLc0ksVUFDekJ0SSxLQUFLc0ssT0FBT0UsT0FBU3hLLEtBQUt1SSxXQUMxQnZJLEtBQUt5SyxRQUFVekssS0FBS3NLLE9BQU9JLFdBQVcsS0FBTSxDQUFDeEksT0FBTyxJQUNwRGxDLEtBQUsySyxVQUFZLElBQUlDLFVBQVU1SyxLQUFLc0ksVUFBV3RJLEtBQUt1SSxZQUNwRHZJLEtBQUs2SyxPQUFTLElBQUkzRSxTQUFTbEcsS0FBSzJLLFVBQVVoQyxLQUFLbEIsUUFvQnZELE9BakJXLFlBQUFxRCxXQUFQLFdBQ0k5SyxLQUFLOEIsSUFBTTlCLEtBQUtxSSxXQUFXdkIsVUFBVSxHQUNyQzlHLEtBQUtELE9BQVNDLEtBQUs4QixJQUFJL0IsT0FDdkJDLEtBQUsrSyxjQUFnQixJQUFJLEVBQWMvSyxLQUFLcUksV0FBWXJJLEtBQUs4QixJQUFLOUIsS0FBS3NJLFVBQVd0SSxLQUFLdUksYUFHcEYsWUFBQWpJLE9BQVAsU0FBY0MsR0FDVlAsS0FBS0QsT0FBT3FELFlBQVk3QyxHQUN4QlAsS0FBSzhCLElBQUlzQixZQUFZN0MsR0FDckJQLEtBQUs4QixJQUFJN0IsUUFHTixZQUFBeUksS0FBUCxXQUNJMUksS0FBSytLLGNBQWNyQyxLQUFLMUksS0FBSzZLLFFBQzdCN0ssS0FBS3lLLFFBQVFPLGFBQWFoTCxLQUFLMkssVUFBVyxFQUFHLEdBQzdDM0ssS0FBS3lLLFFBQVFRLFVBQVVqTCxLQUFLc0ssT0FBUSxFQUFHLElBRS9DLEVBdkNBLEcsNjBDQ0hBLDBCQUNZLEtBQUFqQyxXQUFhLElBQUksRUFHakIsS0FBQTlILEtBQVksR0EwQnhCLE9BeEJpQixZQUFBMkssSUFBYixXLHFHQUNJLFNBQU1sTCxLQUFLcUksV0FBVzdDLGlCLGNBQXRCLFNBQ0F4RixLQUFLc0ssT0FBU2EsU0FBU0MsY0FBYyxVQUNyQ3BMLEtBQUtxTCxLQUFPLElBQUksRUFBS3JMLEtBQUtzSyxPQUFRdEssS0FBS3FJLFlBQ3ZDOEMsU0FBU0csS0FBS0MsWUFBWXZMLEtBQUtzSyxRQUMvQnRLLEtBQUtxTCxLQUFLUCxhQUNWOUssS0FBS0MsS0FBT0QsS0FBS0MsS0FBS3BFLEtBQUttRSxNQUMzQkEsS0FBS0MsT0FDTGtMLFNBQVNLLFVBQVksU0FBQUMsR0FDakJBLEVBQUdDLGlCQUNILEVBQUtuTCxLQUFLa0wsRUFBRzdQLE1BQU8sR0FFeEJ1UCxTQUFTUSxRQUFVLFNBQUFGLEdBQ2ZBLEVBQUdDLGlCQUNILEVBQUtuTCxLQUFLa0wsRUFBRzdQLE1BQU8sRyxZQUtwQixZQUFBcUUsS0FBUixXQUNJRCxLQUFLcUwsS0FBSy9LLE9BQU9OLEtBQUtPLE1BQ3RCUCxLQUFLcUwsS0FBSzNDLE9BQ1ZrRCxzQkFBc0I1TCxLQUFLQyxPQUVuQyxFQTlCQSxHQ0RBNEwsT0FBT3BGLE9BQVMsWUFDQyxJQUFJLEdBQ1p5RSxNQUFNWSxPQUFNLFNBQUFqTSxHQUNia00sUUFBUUMsTUFBTW5NIiwiZmlsZSI6ImFwcC5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJleHBvcnQgY29uc3QgV29sZkNvbnN0ID0ge1xyXG4gICAgU0xJQ0VfV0lEVEg6IDMsXHJcbiAgICBXQUxMX1RFWFRVUkVfV0lEVEg6IDY0LFxyXG4gICAgTlVNX1dBTExfVEVYVFVSRVM6IDU1LFxyXG4gICAgSFVEX0ZBQ0VfV0lEVEg6IDQ4LFxyXG4gICAgSFVEX0ZBQ0VfSEVJR0hUOiA2NCxcclxuICAgIEhVRF9XRUFQT05fV0lEVEg6IDI1NixcclxuICAgIE5VTUFSRUFTOiAzNywgICAvLyBudW1iZXIgb2YgYXJlYXNcclxuICAgIEZJUlNUQVJFQTogMHg2QiwgLy8gZmlyc3QgYXJlYSBpbiBtYXAgZGF0YSAoaXQgaXMgYnkgdGhlIHdheSBhIHdheSB0byB0aGUgc2VjcmV0IGZsb29yISlcclxuICAgIEFNQlVTSFRJTEU6IDB4NkEsIC8vIGRlZiBndWFyZFxyXG4gICAgQU1CVVNIOiAtMixcclxuICAgIFRJTEVHTE9CQUw6IDB4MTAwMDAsXHJcbiAgICBIQUxGVElMRTogMHg4MDAwLFxyXG4gICAgVElMRVNISUZUOiAxNixcclxuICAgIE1JTkRJU1Q6IDB4NTgwMCxcclxuICAgIEZMT0FUVElMRTogNjU1MzYuMCxcclxuICAgIFRJTEUyUE9TOiBmdW5jdGlvbiAoYTogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gKCgoYSkgPDwgV29sZkNvbnN0LlRJTEVTSElGVCkgKyBXb2xmQ29uc3QuSEFMRlRJTEUpO1xyXG4gICAgfSxcclxuICAgIFBPUzJUSUxFOiBmdW5jdGlvbiAoYTogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gKChhKSA+PiBXb2xmQ29uc3QuVElMRVNISUZUKTtcclxuICAgIH0sXHJcbiAgICBQT1MyVElMRWY6IGZ1bmN0aW9uIChhOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiAoKGEpIC8gV29sZkNvbnN0LkZMT0FUVElMRSk7XHJcbiAgICB9LFxyXG4gICAgQVNURVA6IDAuMDA3ODEyNSwgICAgLy8gMSBGSU5FPXggREVHUkVFU1xyXG4gICAgQVNURVBSQUQ6IDAuMDAwMTM2MzU0LCAgLy8gMSBGSU5FPXggUkFESUFOU1xyXG4gICAgQU5HXzFSQUQ6IDczMzMuODU5OCwgICAgLy8gMSBSQURJQU49eCBGSU5FU1xyXG4gICAgQU5HXzA6IDAsICAgICAgICAgICAgLy8oaW50KSgoZmxvYXQpMC9BU1RFUClcclxuICAgIEFOR18xOiAxMjgsICAgICAgICAgIC8vKGludCkoKGZsb2F0KTEvQVNURVApXHJcbiAgICBBTkdfNjogNzY4LCAgICAgICAgICAvLyhpbnQpKChmbG9hdCk2L0FTVEVQKVxyXG4gICAgQU5HXzE1OiAxOTIwLCAgICAgICAgIC8vKGludCkoKGZsb2F0KTE1L0FTVEVQKVxyXG4gICAgQU5HXzIyXzU6IDI4ODAsICAgICAgICAgLy8oaW50KSgoZmxvYXQpMjIuNS9BU1RFUClcclxuICAgIEFOR18zMDogMzg0MCwgICAgICAgICAvLyhpbnQpKChmbG9hdCkzMC9BU1RFUClcclxuICAgIEFOR180NTogNTc2MCwgICAgICAgICAvLyhpbnQpKChmbG9hdCk0NS9BU1RFUClcclxuICAgIEFOR182N181OiA4NjQwLCAgICAgICAgIC8vKGludCkoKGZsb2F0KTY3LjUvQVNURVApXHJcbiAgICBBTkdfOTA6IDExNTIwLCAgICAgICAgLy8oaW50KSgoZmxvYXQpOTAvQVNURVApXHJcbiAgICBBTkdfMTEyXzU6IDE0NDAwLCAgICAgICAgLy8oaW50KSgoZmxvYXQpMTEyLjUvQVNURVApXHJcbiAgICBBTkdfMTM1OiAxNzI4MCwgICAgICAgIC8vKGludCkoKGZsb2F0KTEzNS9BU1RFUClcclxuICAgIEFOR18xNTdfNTogMjAxNjAsICAgICAgICAvLyhpbnQpKChmbG9hdCkxNTcuNS9BU1RFUClcclxuICAgIEFOR18xODA6IDIzMDQwLCAgICAgICAgLy8oaW50KSgoZmxvYXQpMTgwL0FTVEVQKVxyXG4gICAgQU5HXzIwMl81OiAyNTkyMCwgICAgICAgIC8vKGludCkoKGZsb2F0KTIwMi41L0FTVEVQKVxyXG4gICAgQU5HXzIyNTogMjg4MDAsICAgICAgICAvLyhpbnQpKChmbG9hdCkyMjUvQVNURVApXHJcbiAgICBBTkdfMjQ3XzU6IDMxNjgwLCAgICAgICAgLy8oaW50KSgoZmxvYXQpMjQ3LjUvQVNURVApXHJcbiAgICBBTkdfMjcwOiAzNDU2MCwgICAgICAgIC8vKGludCkoKGZsb2F0KTI3MC9BU1RFUClcclxuICAgIEFOR18yOTJfNTogMzc0NDAsICAgICAgICAvLyhpbnQpKChmbG9hdCkyOTIuNS9BU1RFUClcclxuICAgIEFOR18zMTU6IDQwMzIwLCAgICAgICAgLy8oaW50KSgoZmxvYXQpMjI1L0FTVEVQKVxyXG4gICAgQU5HXzMzN181OiA0MzIwMCwgICAgICAgIC8vKGludCkoKGZsb2F0KTMzNy41L0FTVEVQKVxyXG4gICAgQU5HXzM2MDogNDYwODAsICAgICAgICAvLyhpbnQpKChmbG9hdCkzNjAvQVNURVApXHJcbiAgICBBTkdMRVM6IDM2MCwgICAgICAgICAgLy8gbXVzdCBiZSBkaXZpc2FibGUgYnkgNFxyXG4gICAgREVBVEhST1RBVEU6IDIsXHJcbiAgICBGSU5FMlJBRDogZnVuY3Rpb24gKGE6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIChhICogTWF0aC5QSSAvIFdvbGZDb25zdC5BTkdfMTgwKTtcclxuICAgIH0sXHJcbiAgICBSQUQyRklORTogZnVuY3Rpb24gKGE6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIChhICogV29sZkNvbnN0LkFOR18xODAgLyBNYXRoLlBJKTtcclxuICAgIH0sXHJcbiAgICBGSU5FMkRFRzogZnVuY3Rpb24gKGE6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIChhIC8gV29sZkNvbnN0LkFOR18xKSA+PiAwO1xyXG4gICAgfSxcdC8vICFAIyBkb24ndCBsb3NlIHByZWNpc2lvbiBiaXRzXHJcbiAgICBGSU5FMkRFR2Y6IGZ1bmN0aW9uIChhOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiAoYSAvIFdvbGZDb25zdC5BTkdfMSk7XHJcbiAgICB9LFxyXG4gICAgREVHMkZJTkU6IGZ1bmN0aW9uIChhOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiAoYSAqIFdvbGZDb25zdC5BTkdfMSk7XHJcbiAgICB9XHJcbn07XHJcbiIsImV4cG9ydCBlbnVtIERvb3JUeXBlIHtcclxuICAgIElOVkFMSUQgPSAtMSxcclxuICAgIERPT1JfVkVSVCA9IDI1NSxcclxuICAgIERPT1JfSE9SSVogPSAyNTQsXHJcbiAgICBET09SX0VfVkVSVCA9IDI1MyxcclxuICAgIERPT1JfRV9IT1JJWiA9IDI1MixcclxuICAgIERPT1JfR19WRVJUID0gMjUxLFxyXG4gICAgRE9PUl9HX0hPUklaID0gMjUwLFxyXG4gICAgRE9PUl9TX1ZFUlQgPSAyNDksXHJcbiAgICBET09SX1NfSE9SSVogPSAyNDgsXHJcbn1cclxuIiwiaW1wb3J0IHtXb2xmQ29uc3R9IGZyb20gJy4vd29sZi1jb25zdCc7XHJcbmV4cG9ydCBjb25zdCBEb29yQ29uc3RzID0ge1xyXG4gICAgQ0xPU0VXQUxMICAgICAgIDogV29sZkNvbnN0Lk1JTkRJU1QsIC8vIFNwYWNlIGJldHdlZW4gd2FsbCAmIHBsYXllclxyXG4gICAgTUFYRE9PUlMgICAgICAgIDogNjQsICAgICAgICAgICAvLyBtYXggbnVtYmVyIG9mIHNsaWRpbmcgZG9vcnNcclxuXHJcbiAgICBNQVhfRE9PUlMgICAgICAgOiAyNTYsIC8vIGpzZWlkZWxpbjogZG9lc24ndCBsb29rIGxpa2UgdGhpcyBpcyB1c2VkP1xyXG4gICAgRE9PUl9USU1FT1VUICAgIDogMzAwLFxyXG4gICAgRE9PUl9NSU5PUEVOICAgIDogNTAsXHJcbiAgICBET09SX0ZVTExPUEVOICAgOiA2MyxcclxuICAgIERPT1JfVkVSVCAgICAgICA6IDI1NSxcclxuICAgIERPT1JfSE9SSVogICAgICA6IDI1NCxcclxuICAgIERPT1JfRV9WRVJUICAgICA6IDI1MyxcclxuICAgIERPT1JfRV9IT1JJWiAgICA6IDI1MixcclxuICAgIERPT1JfR19WRVJUICAgICA6IDI1MSxcclxuICAgIERPT1JfR19IT1JJWiAgICA6IDI1MCxcclxuICAgIERPT1JfU19WRVJUICAgICA6IDI0OSxcclxuICAgIERPT1JfU19IT1JJWiAgICA6IDI0OCxcclxuICAgIEZJUlNUX0RPT1IgICAgICA6IDI0OCxcclxuICAgIExBU1RfTE9DSyAgICAgICA6IDI1MSxcclxuXHJcbiAgICBURVhfRE9PUiAgICAgICAgOiA5OCxcclxuICAgIC8vIFRFWF9ET09SICAgICAgICA6IDEyNixcclxuXHJcbiAgICBkcl9jbG9zaW5nICAgICAgOiAtMSxcclxuICAgIGRyX2Nsb3NlZCAgICAgICA6IDAsXHJcbiAgICBkcl9vcGVuaW5nICAgICAgOiAxLFxyXG4gICAgZHJfb3BlbiAgICAgICAgIDogMixcclxuXHJcbiAgICBURVhfRERPT1IgICAgICAgOiAoMCArIDk4KSwgLy8gU2ltcGxlIERvb3JcclxuICAgIFRFWF9QTEFURSAgICAgICA6ICgyICsgOTgpLCAvLyBEb29yIFBsYXRlXHJcbiAgICBURVhfREVMRVYgICAgICAgOiAoNCArIDk4KSwgLy8gRWxldmF0b3IgRG9vclxyXG4gICAgVEVYX0RMT0NLICAgICAgICA6ICg2ICsgOTgpICAvLyBMb2NrZWQgRG9vclxyXG59O1xyXG4iLCJpbXBvcnQge0Rvb3JUeXBlfSBmcm9tICcuLi9EZWZzL2Rvb3ItdHlwZSc7XHJcbmltcG9ydCB7UGxheWVyfSBmcm9tICcuLi9HYW1lL3BsYXllcic7XHJcblxyXG5leHBvcnQgY2xhc3MgRG9vciB7XHJcbiAgICBwdWJsaWMgeDogbnVtYmVyO1xyXG4gICAgcHVibGljIHk6IG51bWJlcjtcclxuICAgIHB1YmxpYyBpc09wZW46IGJvb2xlYW47XHJcbiAgICBwdWJsaWMgVHlwZTogRG9vclR5cGU7XHJcbiAgICBwdWJsaWMgVmVydGljYWw6IGJvb2xlYW47XHJcbiAgICBwdWJsaWMgVGV4dHVyZUluZGV4OiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHBsYXllcjogUGxheWVyO1xyXG4gICAgcHJpdmF0ZSB0aW1lcjogeyB4OiBudW1iZXIsIHk6IG51bWJlciwgdDogbnVtYmVyLCBvcGVuaW5nOiBib29sZWFuIH07XHJcblxyXG4gICAgY29uc3RydWN0b3IoeDogbnVtYmVyLCB5OiBudW1iZXIsIHBsYXllcjogUGxheWVyKSB7XHJcbiAgICAgICAgdGhpcy54ID0geDtcclxuICAgICAgICB0aGlzLnkgPSB5O1xyXG4gICAgICAgIHRoaXMucGxheWVyID0gcGxheWVyO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0aWNrKCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IHRpbWVyID0gdGhpcy50aW1lcjtcclxuICAgICAgICBpZiAodGltZXIpIHtcclxuICAgICAgICAgICAgdGltZXIudCArPSAxO1xyXG4gICAgICAgICAgICBpZiAodGltZXIudCA+IDY0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzT3BlbiA9IHRpbWVyLm9wZW5pbmc7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRpbWVyID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGUoa2V5czogYW55KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKGtleXNbJyAnXSkge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMudGltZXIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllciA9IHRoaXMucGxheWVyO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcFcgPSB0aGlzLnBsYXllci5nZXRQb3NpdGlvbkluV29ybGQoKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnggIT09IHBXLndvcmxkWCB8fCB0aGlzLnkgIT09IHBXLndvcmxkWSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxldCBvcGVuaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzT3Blbikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFZhbGlkYXRlIGlmIHBsYXllciBpcyB0b28gY2xvc2UgdG8gdGhlIGRvb3JcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKHBXLmR4ID4gMCAmJiBwVy53b3JsZFggLSBwbGF5ZXIueCA8PSBwbGF5ZXIucmFkaXVzKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAocFcuZHggPCAwICYmIHBsYXllci54IC0gcFcud29ybGRYIC0gMSA8PSBwbGF5ZXIucmFkaXVzKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAocFcuZHkgPiAwICYmIHBXLndvcmxkWSAtIHBsYXllci55IDw9IHBsYXllci5yYWRpdXMpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChwVy5keSA8IDAgJiYgcGxheWVyLnkgLSBwVy53b3JsZFkgLSAxIDw9IHBsYXllci5yYWRpdXMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgZG9vciBjbG9zZXMgKGl0IGJlY29tZXMgYmxvY2tpbmcgaW1tZWRpYXRlbHkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5pbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRpbWVyID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHg6IHBXLndvcmxkWCxcclxuICAgICAgICAgICAgICAgICAgICB5OiBwVy53b3JsZFksXHJcbiAgICAgICAgICAgICAgICAgICAgdDogMCxcclxuICAgICAgICAgICAgICAgICAgICBvcGVuaW5nOiBvcGVuaW5nXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRUaW1lcigpOiB7IHg6IG51bWJlciwgeTogbnVtYmVyLCB0OiBudW1iZXIsIG9wZW5pbmc6IGJvb2xlYW4gfSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGltZXI7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGVudW0gVGlsZVR5cGUge1xyXG4gICAgV0FMTF9USUxFID0gMSxcclxuICAgIFBVU0hXQUxMX1RJTEUgPSAoMSA8PCAyMCksXHJcbiAgICBET09SX1RJTEUgPSAyLFxyXG4gICAgU0VDUkVUX1RJTEUgPSA0LFxyXG4gICAgRFJFU1NfVElMRSA9IDgsXHJcbiAgICBCTE9DS19USUxFID0gMTYsXHJcbiAgICBBQ1RPUl9USUxFID0gMzIsXHJcbiAgICBERUFEQUNUT1JfVElMRSA9IDY0LFxyXG4gICAgUE9XRVJVUF9USUxFID0gMTI4LFxyXG4gICAgQU1CVVNIX1RJTEUgPSAyNTYsXHJcbiAgICBFWElUX1RJTEUgPSA1MTIsXHJcbiAgICBTRUNSRVRMRVZFTF9USUxFID0gMTAyNCxcclxuICAgIEVMRVZBVE9SX1RJTEUgPSAoMSA8PCAxMSksXHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIERpY3Rpb25hcnk8VD4gaW1wbGVtZW50cyBJRGljdGlvbmFyeTxUPiB7XHJcbiAgICBwcml2YXRlIF9rZXlzOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBfdmFsdWVzOiBUW10gPSBbXTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihpbml0PzogeyBrZXk6IHN0cmluZzsgdmFsdWU6IFQ7IH1bXSkge1xyXG4gICAgICAgIGlmIChpbml0KSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgaW5pdC5sZW5ndGg7IHgrKykge1xyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgdGhpc1tpbml0W3hdLmtleV0gPSBpbml0W3hdLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fa2V5cy5wdXNoKGluaXRbeF0ua2V5KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlcy5wdXNoKGluaXRbeF0udmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGQoa2V5OiBzdHJpbmcsIHZhbHVlOiBUKTogdm9pZCB7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIHRoaXNba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgIHRoaXMuX2tleXMucHVzaChrZXkpO1xyXG4gICAgICAgIHRoaXMuX3ZhbHVlcy5wdXNoKHZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlKGtleTogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLl9rZXlzLmluZGV4T2Yoa2V5LCAwKTtcclxuICAgICAgICB0aGlzLl9rZXlzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgdGhpcy5fdmFsdWVzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGRlbGV0ZSB0aGlzW2tleV07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldChrZXk6IHN0cmluZyk6IFQge1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICByZXR1cm4gdGhpc1trZXldO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBrZXlzKCk6IHN0cmluZ1tdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fa2V5cztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdmFsdWVzKCk6IFRbXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY29udGFpbnNLZXkoa2V5OiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB0aGlzW2tleV0gIT09ICd1bmRlZmluZWQnO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdG9Mb29rdXAoKTogSURpY3Rpb25hcnk8VD4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjb3VudCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9rZXlzLmxlbmd0aDtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQge01hcH0gZnJvbSAnLi9tYXAnO1xyXG5pbXBvcnQge1RpbGVUeXBlfSBmcm9tICcuL3RpbGUtdHlwZSc7XHJcblxyXG5leHBvcnQgY2xhc3MgUGxheWVyIHtcclxuICAgIC8vLyA8c3VtbWFyeT5cclxuICAgIC8vLyBYIHBvc2l0aW9uXHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgcHVibGljIHg6IG51bWJlcjtcclxuICAgIC8vLyA8c3VtbWFyeT5cclxuICAgIC8vLyBZIHBvc2l0aW9uXHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgcHVibGljIHk6IG51bWJlcjtcclxuICAgIC8vLyA8c3VtbWFyeT5cclxuICAgIC8vLyBGYWNpbmcgZGlyZWN0aW9uIHhcclxuICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICBwdWJsaWMgZHg6IG51bWJlcjtcclxuICAgIC8vLyA8c3VtbWFyeT5cclxuICAgIC8vLyBGYWNpbmcgZGlyZWN0aW9uIHlcclxuICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICBwdWJsaWMgZHk6IG51bWJlcjtcclxuICAgIC8vLyA8c3VtbWFyeT5cclxuICAgIC8vLyBXYWxraW5nIHNwZWVkXHJcbiAgICAvLy8gPC9zdW1tYXJ5PlxyXG4gICAgcHVibGljIHNwZWVkID0gMC4wNjU7XHJcbiAgICAvLy8gPHN1bW1hcnk+XHJcbiAgICAvLy8gVHVybmluZyBzcGVlZFxyXG4gICAgLy8vIDwvc3VtbWFyeT5cclxuICAgIHB1YmxpYyBzcGVlZEEgPSAwLjA1O1xyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vIFBsYXllciByYWRpdXNcclxuICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICBwdWJsaWMgcmFkaXVzID0gMC4yNTtcclxuICAgIHByaXZhdGUgbWFwOiBNYXA7XHJcblxyXG4gICAgY29uc3RydWN0b3IobWFwOiBNYXApIHtcclxuICAgICAgICB0aGlzLm1hcCA9IG1hcDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdHVybihhbHBoYTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgZHggPSB0aGlzLmR4ICogTWF0aC5jb3MoYWxwaGEpIC0gdGhpcy5keSAqIE1hdGguc2luKGFscGhhKTtcclxuICAgICAgICB0aGlzLmR5ID0gKHRoaXMuZHggKiBNYXRoLnNpbihhbHBoYSkgKyB0aGlzLmR5ICogTWF0aC5jb3MoYWxwaGEpKTtcclxuICAgICAgICB0aGlzLmR4ID0gZHg7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFBvc2l0aW9uSW5Xb3JsZCgpOiB7IHdvcmxkWDogbnVtYmVyLCB3b3JsZFk6IG51bWJlciwgZHg6IG51bWJlciwgZHk6IG51bWJlciB9IHtcclxuICAgICAgICBsZXQgd29ybGRYID0gfn50aGlzLng7XHJcbiAgICAgICAgbGV0IHdvcmxkWSA9IH5+dGhpcy55O1xyXG4gICAgICAgIGxldCBkeCA9IDA7XHJcbiAgICAgICAgbGV0IGR5ID0gMDtcclxuICAgICAgICBpZiAoTWF0aC5hYnModGhpcy5keCkgPj0gTWF0aC5hYnModGhpcy5keSkpIHtcclxuICAgICAgICAgICAgZHggPSB0aGlzLmR4ID49IDAgPyAxIDogLTE7XHJcbiAgICAgICAgICAgIHdvcmxkWCArPSBkeDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkeSA9IHRoaXMuZHkgPj0gMCA/IDEgOiAtMTtcclxuICAgICAgICAgICAgd29ybGRZICs9IGR5O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4geyB3b3JsZFgsIHdvcmxkWSwgZHgsIGR5IH07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG1vdmUobGVuZ3RoOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCB4ID0gdGhpcy54ICsgdGhpcy5keCAqIGxlbmd0aDtcclxuICAgICAgICBjb25zdCB5ID0gdGhpcy55ICsgdGhpcy5keSAqIGxlbmd0aDtcclxuICAgICAgICBpZiAodGhpcy5jYW5Nb3ZlVG8oeCwgdGhpcy55KSkge1xyXG4gICAgICAgICAgICB0aGlzLnggPSB4O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5jYW5Nb3ZlVG8odGhpcy54LCB5KSkge1xyXG4gICAgICAgICAgICB0aGlzLnkgPSB5O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNhbk1vdmVUbyh4OiBudW1iZXIsIHk6IG51bWJlcik6IGJvb2xlYW4ge1xyXG4gICAgICAgIGNvbnN0IHIgPSB0aGlzLnJhZGl1cztcclxuICAgICAgICBjb25zdCBmeCA9IHggJSAxO1xyXG4gICAgICAgIGNvbnN0IHhpID0gfn54O1xyXG4gICAgICAgIGNvbnN0IGZ5ID0geSAlIDE7XHJcbiAgICAgICAgY29uc3QgeWkgPSB+fnk7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNTb2xpZFRpbGUoeGksIHlpKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vQ2hlY2sgaWYgd2UgYXJlIGdldHRpbmcgdG9vIGNsb3NlIHRvIGEgd2FsbC9zb2xpZCB0aWxlXHJcbiAgICAgICAgaWYgKGZ4IDwgcikge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pc1NvbGlkVGlsZSh4aSAtIDEsIHlpKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChmeSA8IHIgJiYgdGhpcy5pc1NvbGlkVGlsZSh4aSAtIDEsIHlpIC0gMSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZnkgPiAxIC0gciAmJiB0aGlzLmlzU29saWRUaWxlKHhpIC0gMSwgeWkgKyAxKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChmeCA+IDEgLSByKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzU29saWRUaWxlKHhpICsgMSwgeWkpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGZ5IDwgciAmJiB0aGlzLmlzU29saWRUaWxlKHhpICsgMSwgeWkgLSAxKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChmeSA+IDEgLSByICYmIHRoaXMuaXNTb2xpZFRpbGUoeGkgKyAxLCB5aSArIDEpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGZ5IDwgciAmJiB0aGlzLmlzU29saWRUaWxlKHhpLCB5aSAtIDEpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGZ5ID4gMSAtIHIgJiYgdGhpcy5pc1NvbGlkVGlsZSh4aSwgeWkgKyAxKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaXNTb2xpZFRpbGUoeDogbnVtYmVyLCB5OiBudW1iZXIpOiBib29sZWFuIHtcclxuICAgICAgICAvL0NoZWNrIGlmIHdlIGFyZSBhbGxvd2VkIHRvIHBhc3MgdHJvdWdoIGEgZG9vclxyXG4gICAgICAgIGlmICh0aGlzLm1hcC5kb29ycy5jb250YWluc0tleSh4LnRvRml4ZWQoKSArIHkudG9GaXhlZCgpKSkge1xyXG4gICAgICAgICAgICBjb25zdCBkb29yID0gdGhpcy5tYXAuZG9vcnMuZ2V0KHgudG9GaXhlZCgpICsgeS50b0ZpeGVkKCkpO1xyXG4gICAgICAgICAgICByZXR1cm4gIWRvb3IuaXNPcGVuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL0NoZWNrIGltcGFzc2FibGUgdGlsZSB0eXBlc1xyXG4gICAgICAgIGNvbnN0IHRpbGVUeXBlID0gdGhpcy5tYXAudGlsZU1hcFt4XVt5XTtcclxuICAgICAgICByZXR1cm4gdGlsZVR5cGUgPT09IFRpbGVUeXBlLldBTExfVElMRSB8fCB0aWxlVHlwZSA9PT0gVGlsZVR5cGUuQkxPQ0tfVElMRSB8fCB0aWxlVHlwZSA9PT0gVGlsZVR5cGUuUFVTSFdBTExfVElMRTtcclxuICAgICAgICAvL1RPRE86IENoZWNrIGVudGl0aWVzXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGhhbmRsZUlucHV0KGtleXM6IGFueSk6IHZvaWQge1xyXG4gICAgICAgIGlmIChrZXlzWydBcnJvd1JpZ2h0J10pIHtcclxuICAgICAgICAgICAgdGhpcy50dXJuKHRoaXMuc3BlZWRBKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGtleXNbJ0Fycm93TGVmdCddKSB7XHJcbiAgICAgICAgICAgIHRoaXMudHVybigtdGhpcy5zcGVlZEEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoa2V5c1snQXJyb3dVcCddKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW92ZSh0aGlzLnNwZWVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGtleXNbJ0Fycm93RG93biddKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW92ZSgtdGhpcy5zcGVlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7RG9vckNvbnN0c30gZnJvbSAnLi4vRGVmcy9kb29yLWNvbnN0JztcclxuaW1wb3J0IHtEb29yVHlwZX0gZnJvbSAnLi4vRGVmcy9kb29yLXR5cGUnO1xyXG5pbXBvcnQge0Rvb3J9IGZyb20gJy4uL0VudGl0aWVzL2Rvb3InO1xyXG5pbXBvcnQge0RpY3Rpb25hcnl9IGZyb20gJy4uL0hlbHBlcnMvZGljdGlvbmFyeSc7XHJcbmltcG9ydCB7UGxheWVyfSBmcm9tICcuL3BsYXllcic7XHJcbmltcG9ydCB7VGlsZVR5cGV9IGZyb20gJy4vdGlsZS10eXBlJztcclxuXHJcbmV4cG9ydCBjbGFzcyBNYXAge1xyXG4gICAgLypcclxuICAgIERhdGEgZnJvbSBHQU1FTUFQUy5XTDZcclxuICAgICAqL1xyXG4gICAgcHVibGljIHBsYW5lMDogRGF0YVZpZXc7XHJcbiAgICAvKlxyXG4gICAgRGF0YSBmcm9tIEdBTUVNQVBTLldMNlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcGxhbmUxOiBEYXRhVmlldztcclxuICAgIC8qXHJcbiAgICBNYXAgb2YgZWFjaCB0aWxlIGluIG1hcFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgdGlsZU1hcDogVGlsZVR5cGVbXVtdO1xyXG4gICAgLypcclxuICAgIERvb3JzIGluIHRoZSBsZXZlbFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZG9vcnM6IElEaWN0aW9uYXJ5PERvb3I+ID0gbmV3IERpY3Rpb25hcnkoKTtcclxuICAgIHB1YmxpYyBwbGF5ZXI6IFBsYXllcjtcclxuICAgIHB1YmxpYyB3YWxsVGV4dHVyZU9mZnNldDogbnVtYmVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHBsYW5lMDogRGF0YVZpZXcsIHBsYW5lMTogRGF0YVZpZXcsIHdhbGxUZXh0dXJlT2Zmc2V0OiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLnBsYW5lMCA9IHBsYW5lMDtcclxuICAgICAgICB0aGlzLnBsYW5lMSA9IHBsYW5lMTtcclxuICAgICAgICB0aGlzLndhbGxUZXh0dXJlT2Zmc2V0ID0gd2FsbFRleHR1cmVPZmZzZXQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldHVwKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMucGxheWVyID0gbmV3IFBsYXllcih0aGlzKTtcclxuICAgICAgICB0aGlzLnNldHVwVGlsZU1hcCgpO1xyXG4gICAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgNjQ7IHkrKykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IDY0OyB4KyspIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0dXBXb3JsZCh4LCB5KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuRW50aXRpZXNBbmRQcm9wcyh4LCB5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIEVudGl0aWVzQW5kUHJvcHMoeDogbnVtYmVyLCB5OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCB0aWxlID0gdGhpcy5tYXAxKHgsIHkpO1xyXG4gICAgICAgIHN3aXRjaCAodGlsZSkge1xyXG4gICAgICAgICAgICBjYXNlIDE5OlxyXG4gICAgICAgICAgICBjYXNlIDIwOlxyXG4gICAgICAgICAgICBjYXNlIDIxOlxyXG4gICAgICAgICAgICBjYXNlIDIyOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zcGF3blBsYXllcih4LCB5LCB0aWxlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDIzOlxyXG4gICAgICAgICAgICBjYXNlIDI0OlxyXG4gICAgICAgICAgICBjYXNlIDI1OlxyXG4gICAgICAgICAgICBjYXNlIDI2OlxyXG4gICAgICAgICAgICBjYXNlIDI3OlxyXG4gICAgICAgICAgICBjYXNlIDI4OlxyXG4gICAgICAgICAgICBjYXNlIDI5OlxyXG4gICAgICAgICAgICBjYXNlIDMwOlxyXG4gICAgICAgICAgICBjYXNlIDMxOlxyXG4gICAgICAgICAgICBjYXNlIDMyOlxyXG4gICAgICAgICAgICBjYXNlIDMzOlxyXG4gICAgICAgICAgICBjYXNlIDM0OlxyXG4gICAgICAgICAgICBjYXNlIDM1OlxyXG4gICAgICAgICAgICBjYXNlIDM2OlxyXG4gICAgICAgICAgICBjYXNlIDM3OlxyXG4gICAgICAgICAgICBjYXNlIDM4OlxyXG4gICAgICAgICAgICBjYXNlIDM5OlxyXG4gICAgICAgICAgICBjYXNlIDQwOlxyXG4gICAgICAgICAgICBjYXNlIDQxOlxyXG4gICAgICAgICAgICBjYXNlIDQyOlxyXG4gICAgICAgICAgICBjYXNlIDQzOlxyXG4gICAgICAgICAgICBjYXNlIDQ0OlxyXG4gICAgICAgICAgICBjYXNlIDQ1OlxyXG4gICAgICAgICAgICBjYXNlIDQ2OlxyXG4gICAgICAgICAgICBjYXNlIDQ3OlxyXG4gICAgICAgICAgICBjYXNlIDQ4OlxyXG4gICAgICAgICAgICBjYXNlIDQ5OlxyXG4gICAgICAgICAgICBjYXNlIDUwOlxyXG4gICAgICAgICAgICBjYXNlIDUxOlxyXG4gICAgICAgICAgICBjYXNlIDUyOlxyXG4gICAgICAgICAgICBjYXNlIDUzOlxyXG4gICAgICAgICAgICBjYXNlIDU0OlxyXG4gICAgICAgICAgICBjYXNlIDU1OlxyXG4gICAgICAgICAgICBjYXNlIDU2OlxyXG4gICAgICAgICAgICBjYXNlIDU3OlxyXG4gICAgICAgICAgICBjYXNlIDU4OlxyXG4gICAgICAgICAgICBjYXNlIDU5OlxyXG4gICAgICAgICAgICBjYXNlIDYwOlxyXG4gICAgICAgICAgICBjYXNlIDYxOlxyXG4gICAgICAgICAgICBjYXNlIDYyOlxyXG4gICAgICAgICAgICBjYXNlIDYzOlxyXG4gICAgICAgICAgICBjYXNlIDY0OlxyXG4gICAgICAgICAgICBjYXNlIDY1OlxyXG4gICAgICAgICAgICBjYXNlIDY2OlxyXG4gICAgICAgICAgICBjYXNlIDY3OlxyXG4gICAgICAgICAgICBjYXNlIDY4OlxyXG4gICAgICAgICAgICBjYXNlIDY5OlxyXG4gICAgICAgICAgICBjYXNlIDcwOlxyXG4gICAgICAgICAgICAgICAgLypcclxuICAgICAgICAgICAgICAgICAgICBUT0RPPyAtIHNlZSB3bF9nYW1lLmNwcCAtIHdoYXQgYXJlIHRob3NlP1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNzE6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA3MjpcclxuICAgICAgICAgICAgICAgICAgICAjaWZkZWYgU1BFQVJcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3MzogICAgICAgICAgICAgICAgICAgICAgICAvLyBUUlVDSyBBTkQgU1BFQVIhXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNzQ6XHJcbiAgICAgICAgICAgICAgICAgICAgI2VuZGlmXHJcbiAgICAgICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgICAgIHRoaXMuc3Bhd25TdGF0aWMoeCwgeSwgdGlsZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA5ODogLy9TZWNyZXRcclxuICAgICAgICAgICAgICAgIC8vZ2FtZXN0YXRlLnNlY3JldHRvdGFsKys7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAxMjQ6XHJcbiAgICAgICAgICAgICAgICAvL0RlYWQgZ3VhcmRcclxuICAgICAgICAgICAgICAgIHRoaXMuc3Bhd25EZWFkR3VhcmQoeCwgeSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGlmICh0aWxlID49IDEwOCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3Bhd25FbmVtaWVzQW5kR3VhcmRzKHgsIHksIHRpbGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3Bhd25FbmVtaWVzQW5kR3VhcmRzKHg6IG51bWJlciwgeTogbnVtYmVyLCB0aWxlOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICAvL1RPRE86IFRoaXMgbmVlZHMgdG8gYmUgY2hhbmdlZCB0byBoYW5kbGUgZGlmZmljdWx0eSAtIHNlZSB3bF9nYW1lLmNwcFxyXG4gICAgICAgIC8qXHJcbiAgICAgICAgICAgICAgICAvLyBlbmVteVxyXG4gICAgICAgICAgICAgICAgaWYgKCgxMDggPD0gdGlsZSAmJiB0aWxlIDwgMTE2KSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGluZ3MucHVzaChuZXcgR3VhcmRFbmVteSh4LCB5LCAodGlsZSAtIDEwOCkgJSA0KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICgoMTQ0IDw9IHRpbGUgJiYgdGlsZSA8IDE1MikpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpbmdzLnB1c2gobmV3IEd1YXJkRW5lbXkoeCwgeSwgKHRpbGUgLSAxNDQpICUgNCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKDExNiA8PSB0aWxlICYmIHRpbGUgPCAxMjQpKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaW5ncy5wdXNoKG5ldyBPZmZpY2VyRW5lbXkoeCwgeSwgKHRpbGUgLSAxMTYpICUgNCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKDE1MiA8PSB0aWxlICYmIHRpbGUgPCAxNjApKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaW5ncy5wdXNoKG5ldyBPZmZpY2VyRW5lbXkoeCwgeSwgKHRpbGUgLSAxNTIpICUgNCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKDEyNiA8PSB0aWxlICYmIHRpbGUgPCAxMzQpKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaW5ncy5wdXNoKG5ldyBTU0VuZW15KHgsIHksICh0aWxlIC0gMTI2KSAlIDQpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCgxNjIgPD0gdGlsZSAmJiB0aWxlIDwgMTcwKSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGluZ3MucHVzaChuZXcgU1NFbmVteSh4LCB5LCAodGlsZSAtIDE2MikgJSA0KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICgoMTM0IDw9IHRpbGUgJiYgdGlsZSA8IDE0MikpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpbmdzLnB1c2gobmV3IERvZ0VuZW15KHgsIHksICh0aWxlIC0gMTM0KSAlIDQpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCgxNzAgPD0gdGlsZSAmJiB0aWxlIDwgMTc4KSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGluZ3MucHVzaChuZXcgRG9nRW5lbXkoeCwgeSwgKHRpbGUgLSAxNzApICUgNCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKDIxNiA8PSB0aWxlICYmIHRpbGUgPCAyMjQpKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaW5ncy5wdXNoKG5ldyBab21iaWVFbmVteSh4LCB5LCAodGlsZSAtIDExNikgJSA0KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICgoMjM0IDw9IHRpbGUgJiYgdGlsZSA8IDI0MikpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpbmdzLnB1c2gobmV3IFpvbWJpZUVuZW15KHgsIHksICh0aWxlIC0gMTQ0KSAlIDQpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRpbGUgPT0gMTYwKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaW5ncy5wdXNoKG5ldyBGYWtlSGl0bGVyRW5lbXkoeCwgeSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGlsZSA9PSAxNzgpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpbmdzLnB1c2gobmV3IEhpdGxlckVuZW15KHgsIHkpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRpbGUgPT0gMTc5KVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaW5ncy5wdXNoKG5ldyBGZXR0Z2VzaWNodEVuZW15KHgsIHkpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRpbGUgPT0gMTk2KVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaW5ncy5wdXNoKG5ldyBTY2hhYmJzRW5lbXkoeCwgeSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGlsZSA9PSAxOTcpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpbmdzLnB1c2gobmV3IEdyZXRlbEVuZW15KHgsIHkpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRpbGUgPT0gMjE0KVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaW5ncy5wdXNoKG5ldyBIYW5zRW5lbXkoeCwgeSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGlsZSA9PSAyMTUpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpbmdzLnB1c2gobmV3IE90dG9FbmVteSh4LCB5KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICgyMjQgPD0gdGlsZSAmJiB0aWxlIDwgMjI4KVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEdob3N0XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGdob3N0ID0gbmV3IFRoaW5nKHgsIHksIDApO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzcHJpdGVJbmRleCA9IDI4OCArIDIgKiAodGlsZSAtIDIyNCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2hvc3Quc3RhcnRBbmltYXRpb24obmV3IEFuaW1hdGlvbihbc3ByaXRlSW5kZXgsIHNwcml0ZUluZGV4ICsgMV0sIHRydWUpKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGluZ3MucHVzaChnaG9zdCk7XHJcbiAgICAgICAgICAgICAgICB9Ki9cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNwYXduRGVhZEd1YXJkKGk6IG51bWJlciwgdGlsZTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgLy90aGluZ3MucHVzaChuZXcgVGhpbmcoeCwgeSwgOTUpKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNwYXduU3RhdGljKHg6IG51bWJlciwgeTogbnVtYmVyLCB0aWxlOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICAvKlxyXG4gICAgICAgIC8vIHByb3BzXHJcbiAgICAgICAgdmFyIGNvbGxlY3RpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKFsyOSwgNDMsIDQ0LCA0NywgNDgsIDQ5LCA1MCwgNTEsIDUyLCA1MywgNTQsIDU1LCA1Nl0uaW5kZXhPZih0aWxlKSA+PSAwKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbGxlY3RpYmxlXHJcbiAgICAgICAgICAgIGNvbGxlY3RpYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYgKDUyIDw9IHRpbGUgJiYgdGlsZSA8PSA1Nikge1xyXG4gICAgICAgICAgICAgICAgc2NvcmUudG90YWxUcmVhc3VyZXMgKz0gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoWzI0LCAyNSwgMjYsIDI4LCAzMCwgMzEsIDMzLCAzNCwgMzUsIDM2LCAzOSwgNDAsIDQxLCA0NSwgNTgsIDU5LCA2MCwgNjIsIDYzLCA2OCxcclxuICAgICAgICAgICAgNjldLmluZGV4T2YodGlsZSkgPj0gMCkge1xyXG4gICAgICAgICAgICAvLyBibG9ja2luZyBwcm9wXHJcbiAgICAgICAgICAgIHRoaW5ncy5wdXNoKG5ldyBUaGluZyh4LCB5LCB0aWxlIC0gMjEsIGNvbGxlY3RpYmxlLCBmYWxzZSwgdHJ1ZSkpO1xyXG4gICAgICAgICAgICBwbGFuZTJbeF1beV0gPSB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaW5ncy5wdXNoKG5ldyBUaGluZyh4LCB5LCB0aWxlIC0gMjEsIGNvbGxlY3RpYmxlLCBmYWxzZSwgZmFsc2UpKTtcclxuICAgICAgICB9Ki9cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNwYXduUGxheWVyKHg6IG51bWJlciwgeTogbnVtYmVyLCBtMTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgLy8gcGxheWVyIHN0YXJ0aW5nIHBvc2l0aW9uXHJcbiAgICAgICAgdGhpcy5wbGF5ZXIueCA9IHggKyAuNTtcclxuICAgICAgICB0aGlzLnBsYXllci55ID0geSArIC41O1xyXG4gICAgICAgIGlmIChtMSA9PT0gMTkpIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIuZHggPSAwO1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllci5keSA9IC0xO1xyXG4gICAgICAgIH0gZWxzZSBpZiAobTEgPT09IDIwKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyLmR4ID0gMTtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIuZHkgPSAwO1xyXG4gICAgICAgIH0gZWxzZSBpZiAobTEgPT09IDIxKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyLmR4ID0gMDtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIuZHkgPSAxO1xyXG4gICAgICAgIH0gZWxzZSBpZiAobTEgPT09IDIyKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyLmR4ID0gLTE7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyLmR5ID0gMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXR1cFdvcmxkKHg6IG51bWJlciwgeTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgdGlsZSA9IHRoaXMubWFwMCh4LCB5KTtcclxuICAgICAgICBpZiAodGlsZSA8PSA2Mykge1xyXG4gICAgICAgICAgICAvLyB3YWxsXHJcbiAgICAgICAgICAgIHRoaXMudGlsZU1hcFt4XVt5XSB8PSBUaWxlVHlwZS5XQUxMX1RJTEU7XHJcbiAgICAgICAgfSBlbHNlIGlmICg5MCA8PSB0aWxlICYmIHRpbGUgPD0gMTAxKSB7XHJcbiAgICAgICAgICAgIC8vIGRvb3JcclxuICAgICAgICAgICAgdGhpcy5zcGF3bkRvb3IoeCwgeSwgdGlsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3Bhd25Eb29yKHg6IG51bWJlciwgeTogbnVtYmVyLCB0aWxlOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5kb29ycy5jb3VudCgpID49IERvb3JDb25zdHMuTUFYRE9PUlMpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUb28gbWFueSBEb29ycyBvbiBsZXZlbCEnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy50aWxlTWFwW3hdW3ldIHw9IFRpbGVUeXBlLkRPT1JfVElMRTtcclxuICAgICAgICBjb25zdCBkb29yID0gbmV3IERvb3IoeCwgeSwgdGhpcy5wbGF5ZXIpO1xyXG4gICAgICAgIHRoaXMuZG9vcnMuYWRkKHgudG9GaXhlZCgpICsgeS50b0ZpeGVkKCksIGRvb3IpO1xyXG4gICAgICAgIHN3aXRjaCAodGlsZSkge1xyXG4gICAgICAgICAgICBjYXNlIDkwOlxyXG4gICAgICAgICAgICAgICAgZG9vci5UeXBlID0gRG9vclR5cGUuRE9PUl9WRVJUO1xyXG4gICAgICAgICAgICAgICAgZG9vci5WZXJ0aWNhbCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBkb29yLlRleHR1cmVJbmRleCA9IERvb3JDb25zdHMuVEVYX0RET09SICsgMTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDkxOlxyXG4gICAgICAgICAgICAgICAgZG9vci5UeXBlID0gRG9vclR5cGUuRE9PUl9IT1JJWjtcclxuICAgICAgICAgICAgICAgIGRvb3IuVmVydGljYWwgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGRvb3IuVGV4dHVyZUluZGV4ID0gRG9vckNvbnN0cy5URVhfRERPT1I7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA5MjpcclxuICAgICAgICAgICAgICAgIGRvb3IuVHlwZSA9IERvb3JUeXBlLkRPT1JfR19WRVJUO1xyXG4gICAgICAgICAgICAgICAgZG9vci5WZXJ0aWNhbCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBkb29yLlRleHR1cmVJbmRleCA9IERvb3JDb25zdHMuVEVYX0RMT0NLO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgOTM6XHJcbiAgICAgICAgICAgICAgICBkb29yLlR5cGUgPSBEb29yVHlwZS5ET09SX0dfSE9SSVo7XHJcbiAgICAgICAgICAgICAgICBkb29yLlZlcnRpY2FsID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBkb29yLlRleHR1cmVJbmRleCA9IERvb3JDb25zdHMuVEVYX0RMT0NLO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgOTQ6XHJcbiAgICAgICAgICAgICAgICBkb29yLlR5cGUgPSBEb29yVHlwZS5ET09SX1NfVkVSVDtcclxuICAgICAgICAgICAgICAgIGRvb3IuVmVydGljYWwgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgZG9vci5UZXh0dXJlSW5kZXggPSBEb29yQ29uc3RzLlRFWF9ETE9DSyArIDE7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA5NTpcclxuICAgICAgICAgICAgICAgIGRvb3IuVHlwZSA9IERvb3JUeXBlLkRPT1JfR19IT1JJWjtcclxuICAgICAgICAgICAgICAgIGRvb3IuVmVydGljYWwgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGRvb3IuVGV4dHVyZUluZGV4ID0gRG9vckNvbnN0cy5URVhfRExPQ0sgKyAxO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMTAwOlxyXG4gICAgICAgICAgICAgICAgZG9vci5UeXBlID0gRG9vclR5cGUuRE9PUl9HX1ZFUlQ7XHJcbiAgICAgICAgICAgICAgICBkb29yLlZlcnRpY2FsID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGRvb3IuVGV4dHVyZUluZGV4ID0gRG9vckNvbnN0cy5URVhfREVMRVYgKyAxO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMTAxOlxyXG4gICAgICAgICAgICAgICAgZG9vci5UeXBlID0gRG9vclR5cGUuRE9PUl9FX0hPUklaO1xyXG4gICAgICAgICAgICAgICAgZG9vci5WZXJ0aWNhbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgZG9vci5UZXh0dXJlSW5kZXggPSBEb29yQ29uc3RzLlRFWF9ERUxFVjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIGRvb3IgdHlwZTogJyArIHRpbGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbWFwMCh4OiBudW1iZXIsIHk6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGxhbmUwLmdldFVpbnQxNigyICogKHggKyA2NCAqIHkpLCB0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbWFwMSh4OiBudW1iZXIsIHk6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGxhbmUxLmdldFVpbnQxNigyICogKHggKyA2NCAqIHkpLCB0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldHVwVGlsZU1hcCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnRpbGVNYXAgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDY0OyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgbGluZSA9IEFycmF5KDY0KTtcclxuICAgICAgICAgICAgbGluZS5maWxsKDApO1xyXG4gICAgICAgICAgICB0aGlzLnRpbGVNYXAucHVzaChsaW5lKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGhhbmRsZUlucHV0KGtleXM6IGFueSk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZG9vcnMua2V5cygpLmZvckVhY2goKGtleSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmRvb3JzLmdldChrZXkpLnVwZGF0ZShrZXlzKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdGljaygpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmRvb3JzLmtleXMoKS5mb3JFYWNoKChrZXkpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5kb29ycy5nZXQoa2V5KS50aWNrKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHtNYXB9IGZyb20gJy4vbWFwJztcclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lQXNzZXRzIHtcclxuICAgIHB1YmxpYyB3c01hcDogRGF0YVZpZXc7XHJcbiAgICBwcml2YXRlIHdhbGxUZXh0dXJlT2Zmc2V0OiBudW1iZXI7XHJcbiAgICBwcml2YXRlIGdhbWVNYXBzOiBBcnJheUJ1ZmZlcjtcclxuICAgIHByaXZhdGUgbWFwSGVhZDogQXJyYXlCdWZmZXI7XHJcblxyXG4gICAgcHVibGljIGxvYWRSZXNvdXJjZXMoKTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICBjb25zdCBnYW1lbWFwc1Byb21pc2UgPSB0aGlzLmdldEJpbmFyeUZpbGUoJ0dBTUVNQVBTLldMNicpO1xyXG4gICAgICAgIGNvbnN0IG1hcGhlYWRQcm9taXNlID0gdGhpcy5nZXRCaW5hcnlGaWxlKCdNQVBIRUFELldMNicpO1xyXG4gICAgICAgIGNvbnN0IHZzd2FwUHJvbWlzZSA9IHRoaXMuZ2V0QmluYXJ5RmlsZSgnVlNXQVAuV0w2Jyk7XHJcbiAgICAgICAgZ2FtZW1hcHNQcm9taXNlLnRoZW4ocmVxID0+IHRoaXMuZ2FtZU1hcHMgPSByZXEpO1xyXG4gICAgICAgIG1hcGhlYWRQcm9taXNlLnRoZW4ocmVxID0+IHRoaXMubWFwSGVhZCA9IHJlcSk7XHJcbiAgICAgICAgdnN3YXBQcm9taXNlLnRoZW4ocmVxID0+IHtcclxuICAgICAgICAgICAgdGhpcy53c01hcCA9IG5ldyBEYXRhVmlldyhyZXEpO1xyXG4gICAgICAgICAgICB0aGlzLndhbGxUZXh0dXJlT2Zmc2V0ID0gdGhpcy53c01hcC5nZXRVaW50MzIoNiwgdHJ1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFtnYW1lbWFwc1Byb21pc2UsIG1hcGhlYWRQcm9taXNlLCB2c3dhcFByb21pc2VdKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldEJpbmFyeUZpbGUodXJsOiBzdHJpbmcpOiBQcm9taXNlPEFycmF5QnVmZmVyPiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCByZXEgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgICAgICAgICAgcmVxLm9ubG9hZCA9ICgpID0+IHJlc29sdmUocmVxLnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgcmVxLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcic7XHJcbiAgICAgICAgICAgIHJlcS5vcGVuKCdHRVQnLCB1cmwpO1xyXG4gICAgICAgICAgICByZXEuc2VuZCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBsb2FkTGV2ZWwobGV2ZWw6IG51bWJlcik6IE1hcCB7XHJcbiAgICAgICAgY29uc3QgbWFwSGVhZFZpZXcgPSBuZXcgRGF0YVZpZXcodGhpcy5tYXBIZWFkKTtcclxuICAgICAgICBjb25zdCBvZmZzZXQgPSBtYXBIZWFkVmlldy5nZXRVaW50MzIoMiArIDQgKiBsZXZlbCwgdHJ1ZSk7XHJcbiAgICAgICAgY29uc3QgbWFwSGVhZGVyID0gbmV3IERhdGFWaWV3KHRoaXMuZ2FtZU1hcHMsIG9mZnNldCwgNDIpO1xyXG4gICAgICAgIGNvbnN0IHBsYW5lMFZpZXcgPSBuZXcgRGF0YVZpZXcoXHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZU1hcHMsXHJcbiAgICAgICAgICAgIG1hcEhlYWRlci5nZXRVaW50MzIoMCwgdHJ1ZSksXHJcbiAgICAgICAgICAgIG1hcEhlYWRlci5nZXRVaW50MTYoMTIsIHRydWUpLFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgY29uc3QgcGxhbmUwID0gdGhpcy5ybGV3RGVjb2RlKHRoaXMuY2FybWFja0RlY29kZShwbGFuZTBWaWV3KSk7XHJcbiAgICAgICAgY29uc3QgcGxhbmUxVmlldyA9IG5ldyBEYXRhVmlldyhcclxuICAgICAgICAgICAgdGhpcy5nYW1lTWFwcyxcclxuICAgICAgICAgICAgbWFwSGVhZGVyLmdldFVpbnQzMig0LCB0cnVlKSxcclxuICAgICAgICAgICAgbWFwSGVhZGVyLmdldFVpbnQxNigxNCwgdHJ1ZSksXHJcbiAgICAgICAgKTtcclxuICAgICAgICBjb25zdCBwbGFuZTEgPSB0aGlzLnJsZXdEZWNvZGUodGhpcy5jYXJtYWNrRGVjb2RlKHBsYW5lMVZpZXcpKTtcclxuICAgICAgICBjb25zdCBtYXAgPSBuZXcgTWFwKHBsYW5lMCwgcGxhbmUxLCB0aGlzLndhbGxUZXh0dXJlT2Zmc2V0KTtcclxuICAgICAgICBtYXAuc2V0dXAoKTtcclxuICAgICAgICByZXR1cm4gbWFwO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGVjb2RlIGEgUkxFVy1lbmNvZGVkIHNlcXVlbmNlIG9mIGJ5dGVzXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBybGV3RGVjb2RlKGluVmlldzogRGF0YVZpZXcpOiBEYXRhVmlldyB7XHJcbiAgICAgICAgY29uc3QgbWFwSGVhZFZpZXcgPSBuZXcgRGF0YVZpZXcodGhpcy5tYXBIZWFkKTtcclxuICAgICAgICBjb25zdCBybGV3VGFnID0gbWFwSGVhZFZpZXcuZ2V0VWludDE2KDAsIHRydWUpO1xyXG4gICAgICAgIGNvbnN0IHNpemUgPSBpblZpZXcuZ2V0VWludDE2KDAsIHRydWUpO1xyXG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihzaXplKTtcclxuICAgICAgICBjb25zdCBvdXRWaWV3ID0gbmV3IERhdGFWaWV3KGJ1ZmZlcik7XHJcbiAgICAgICAgbGV0IGluT2Zmc2V0ID0gMjtcclxuICAgICAgICBsZXQgb3V0T2Zmc2V0ID0gMDtcclxuICAgICAgICB3aGlsZSAoaW5PZmZzZXQgPCBpblZpZXcuYnl0ZUxlbmd0aCkge1xyXG4gICAgICAgICAgICBjb25zdCB3ID0gaW5WaWV3LmdldFVpbnQxNihpbk9mZnNldCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGluT2Zmc2V0ICs9IDI7XHJcbiAgICAgICAgICAgIGlmICh3ID09PSBybGV3VGFnKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuID0gaW5WaWV3LmdldFVpbnQxNihpbk9mZnNldCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB4ID0gaW5WaWV3LmdldFVpbnQxNihpbk9mZnNldCArIDIsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgaW5PZmZzZXQgKz0gNDtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3V0Vmlldy5zZXRVaW50MTYob3V0T2Zmc2V0LCB4LCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICBvdXRPZmZzZXQgKz0gMjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG91dFZpZXcuc2V0VWludDE2KG91dE9mZnNldCwgdywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBvdXRPZmZzZXQgKz0gMjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb3V0VmlldztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIERlY29kZSBhIENhcm1hY2stZW5jb2RlZCBzZXF1ZW5jZSBvZiBieXRlc1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY2FybWFja0RlY29kZShpblZpZXc6IERhdGFWaWV3KTogRGF0YVZpZXcge1xyXG4gICAgICAgIGNvbnN0IHNpemUgPSBpblZpZXcuZ2V0VWludDE2KDAsIHRydWUpO1xyXG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihzaXplKTtcclxuICAgICAgICBjb25zdCBvdXRWaWV3ID0gbmV3IERhdGFWaWV3KGJ1ZmZlcik7XHJcbiAgICAgICAgbGV0IGluT2Zmc2V0ID0gMjtcclxuICAgICAgICBsZXQgb3V0T2Zmc2V0ID0gMDtcclxuICAgICAgICB3aGlsZSAoaW5PZmZzZXQgPCBpblZpZXcuYnl0ZUxlbmd0aCkge1xyXG4gICAgICAgICAgICBjb25zdCB4ID0gaW5WaWV3LmdldFVpbnQ4KGluT2Zmc2V0ICsgMSk7XHJcbiAgICAgICAgICAgIGlmICh4ID09PSAweEE3IHx8IHggPT09IDB4QTgpIHtcclxuICAgICAgICAgICAgICAgIC8vIHBvc3NpYmx5IGEgcG9pbnRlclxyXG4gICAgICAgICAgICAgICAgY29uc3QgbiA9IGluVmlldy5nZXRVaW50OChpbk9mZnNldCk7XHJcbiAgICAgICAgICAgICAgICBpZiAobiA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGV4Y2VwdGlvbiAobm90IHJlYWxseSBhIHBvaW50ZXIpXHJcbiAgICAgICAgICAgICAgICAgICAgb3V0Vmlldy5zZXRVaW50OChvdXRPZmZzZXQsIGluVmlldy5nZXRVaW50OChpbk9mZnNldCArIDIpKTtcclxuICAgICAgICAgICAgICAgICAgICBvdXRWaWV3LnNldFVpbnQ4KG91dE9mZnNldCArIDEsIHgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGluT2Zmc2V0ICs9IDM7XHJcbiAgICAgICAgICAgICAgICAgICAgb3V0T2Zmc2V0ICs9IDI7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHggPT09IDB4QTcpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBuZWFyIHBvaW50ZXJcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPSAyICogaW5WaWV3LmdldFVpbnQ4KGluT2Zmc2V0ICsgMik7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0Vmlldy5zZXRVaW50MTYob3V0T2Zmc2V0LCBvdXRWaWV3LmdldFVpbnQxNihvdXRPZmZzZXQgLSBvZmZzZXQsIHRydWUpLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0T2Zmc2V0ICs9IDI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGluT2Zmc2V0ICs9IDM7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGZhciBwb2ludGVyXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gMiAqIGluVmlldy5nZXRVaW50MTYoaW5PZmZzZXQgKyAyLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRWaWV3LnNldFVpbnQxNihvdXRPZmZzZXQsIG91dFZpZXcuZ2V0VWludDE2KG9mZnNldCArIDIgKiBpLCB0cnVlKSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dE9mZnNldCArPSAyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpbk9mZnNldCArPSA0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gbm90IGEgcG9pbnRlclxyXG4gICAgICAgICAgICAgICAgb3V0Vmlldy5zZXRVaW50MTYob3V0T2Zmc2V0LCBpblZpZXcuZ2V0VWludDE2KGluT2Zmc2V0LCB0cnVlKSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBpbk9mZnNldCArPSAyO1xyXG4gICAgICAgICAgICAgICAgb3V0T2Zmc2V0ICs9IDI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG91dFZpZXc7XHJcbiAgICB9XHJcbn1cclxuIiwiLyoqXHJcbiAqIEdhbWUgY29sb3IgcGFsZXR0ZSAoUkdCQSwgMzJiaXQgbGl0dGxlLWVuZGlhbilcclxuICogQHR5cGUge1VpbnQzMkFycmF5fVxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHBhbGV0dGUgPSBuZXcgVWludDMyQXJyYXkoW1xyXG4gICAgNDI3ODE5MDA4MCwgNDI4OTIwMDEyOCwgNDI3ODIzMzA4OCwgNDI4OTI0MzEzNiwgNDI3ODE5MDI0OCwgNDI4OTIwMDI5NiwgNDI3ODIxMTc1MiwgNDI4OTI0MzMwNCxcclxuICAgIDQyODM3MTY2OTIsIDQyOTQ3MjY3NDAsIDQyODM3NTk3MDAsIDQyOTQ3Njk3NDgsIDQyODM3MTY4NjAsIDQyOTQ3MjY5MDgsIDQyODM3NTk4NjgsIDQyOTQ3Njk5MTYsXHJcbiAgICA0MjkzNzE3MjI4LCA0MjkyNjY0NTQwLCA0MjkxODc1MDI0LCA0MjkwODIyMzM2LCA0MjkwMDMyODIwLCA0Mjg5MjQzMzA0LCA0Mjg4MTkwNjE2LCA0Mjg3NDAxMTAwLFxyXG4gICAgNDI4NjM0ODQxMiwgNDI4NTU1ODg5NiwgNDI4NDc2OTM4MCwgNDI4MzcxNjY5MiwgNDI4MjkyNzE3NiwgNDI4MTg3NDQ4OCwgNDI4MTA4NDk3MiwgNDI4MDI5NTQ1NixcclxuICAgIDQyNzgxOTAzMzIsIDQyNzgxOTAzMTYsIDQyNzgxOTAzMDQsIDQyNzgxOTAyOTIsIDQyNzgxOTAyODAsIDQyNzgxOTAyNjgsIDQyNzgxOTAyNTYsIDQyNzgxOTAyNDQsXHJcbiAgICA0Mjc4MTkwMjMyLCA0Mjc4MTkwMjE2LCA0Mjc4MTkwMjA0LCA0Mjc4MTkwMTkyLCA0Mjc4MTkwMTgwLCA0Mjc4MTkwMTY4LCA0Mjc4MTkwMTU2LCA0Mjc4MTkwMTQ0LFxyXG4gICAgNDI5MjQwMTQwNCwgNDI5MDI5NjA2MCwgNDI4ODQ1Mzg4NCwgNDI4NjM0ODU0MCwgNDI4NDI0MzE5NiwgNDI4MjQwMTAyMCwgNDI4MDI5NTY3NiwgNDI3ODE5MDMzMixcclxuICAgIDQyODQyNjI2NTIsIDQyODI0MjM1NDgsIDQyODAzMjIzMDAsIDQyNzgyMjEwNTIsIDQyNzgyMTc5NTYsIDQyNzgyMTQ4NjAsIDQyNzgyMTE3NjQsIDQyNzgyMDk2OTIsXHJcbiAgICA0MjkyNDEwNjIwLCA0MjkwMzEzNDY4LCA0Mjg4NDc4NDYwLCA0Mjg2MzgxMzA4LCA0Mjg0MjgzMTMyLCA0MjgyNDQ3MTAwLCA0MjgwMzQ5OTQ4LCA0Mjc4MjUyNzk2LFxyXG4gICAgNDI3ODI0NTYwNCwgNDI3ODI0MDQ2MCwgNDI3ODIzNDI5MiwgNDI3ODIzMDE3MiwgNDI3ODIyNDAwNCwgNDI3ODIxNzg0MCwgNDI3ODIxMTY3MiwgNDI3ODIwNjUyOCxcclxuICAgIDQyODQyODQxMTIsIDQyODI0NDkwOTIsIDQyODAzNTE5MjQsIDQyNzgyNTQ3NTIsIDQyNzgyNDg1OTIsIDQyNzgyNDI0MzIsIDQyNzgyMzYyNzYsIDQyNzgyMzAxMTIsXHJcbiAgICA0MjkyNDEwNTg0LCA0MjkwMzEzNDA0LCA0Mjg4NDc4MzY0LCA0Mjg2MzgxMTg0LCA0Mjg0Mjg0MDAwLCA0MjgyNDQ4OTYwLCA0MjgwMzUxNzc2LCA0Mjc4MjU0NTkyLFxyXG4gICAgNDI3ODI1NDU5MiwgNDI3ODI1MDQ5NiwgNDI3ODI0NzQyNCwgNDI3ODI0NDM1MiwgNDI3ODI0MTI4NCwgNDI3ODIzODIxMiwgNDI3ODIzNTE0MCwgNDI3ODIzMjA2OCxcclxuICAgIDQyNzgyMjg5OTYsIDQyNzgyMjQ5MDAsIDQyNzgyMjE4MjgsIDQyNzgyMTg3NTYsIDQyNzgyMTU2ODQsIDQyNzgyMTI2MTIsIDQyNzgyMDk1NDAsIDQyNzgyMDY0NjgsXHJcbiAgICA0Mjk0NzY5ODgwLCA0Mjk0NzY5ODQ4LCA0Mjk0NzY5ODIwLCA0Mjk0NTA3NjQ0LCA0Mjk0NzY5NzU2LCA0Mjk0NzY5NzI4LCA0Mjk0NzY5Njk2LCA0Mjk0NzY5NjY0LFxyXG4gICAgNDI5MzE5MDY1NiwgNDI5MTYxMTY0OCwgNDI5MDAzMjY0MCwgNDI4ODQ1MzYzMiwgNDI4Njg3NDYyNCwgNDI4NTU1ODc4NCwgNDI4Mzk3OTc3NiwgNDI4MjQwMDc2OCxcclxuICAgIDQyOTQ3NTMzNzIsIDQyOTQ3NTAyNzIsIDQyOTQ3NDgxOTIsIDQyOTQ3NDUwODgsIDQyOTMxNjgxMjgsIDQyOTE1OTExNjgsIDQyOTAwMTQyMDgsIDQyODg0MzcyNDgsXHJcbiAgICA0Mjk0NzYwNjY0LCA0Mjk0NzUzNDY0LCA0Mjk0NzQ1MjQ0LCA0Mjk0NzM4MDQ0LCA0Mjk0NzI5ODIwLCA0Mjk0NzIxNjAwLCA0Mjk0NzE0NDAwLCA0Mjk0NzA2MTc2LFxyXG4gICAgNDI5NDcwNTE1MiwgNDI5MzY1NjU3NiwgNDI5Mjg3MDE0NCwgNDI5MjA4MzcxMiwgNDI5MTI5NzI4MCwgNDI5MDUxMDg0OCwgNDI4OTcyNDQxNiwgNDI4ODkzNzk4NCxcclxuICAgIDQyODgxNTE1NTIsIDQyODcxMDI5NzYsIDQyODYzMTY1NDQsIDQyODU1MzAxMTIsIDQyODQ3NDM2ODAsIDQyODM5NTcyNDgsIDQyODMxNzA4MTYsIDQyODIzODQzODQsXHJcbiAgICA0MjgwODIxODAwLCA0MjgxNjU1NTQ4LCA0MjgwNjAzOTAwLCA0Mjc5ODE1NDIwLCA0Mjc4NzYzNzcyLCA0Mjc4MjM2NDEyLCA0Mjk0NzEzNTI0LCA0Mjk0NzA1MzIwLFxyXG4gICAgNDI5MzEzMjQ0MCwgNDI5MTU1OTU1MiwgNDI4OTk4NjY3NiwgNDI4ODQxMzc5MiwgNDI4Njg0MDkxMiwgNDI4NTUzMDE4MCwgNDI4Mzk1NzMwMCwgNDI4MjM4NDQyNCxcclxuICAgIDQyOTQ3NjA3MDAsIDQyOTQ3NTI1MDgsIDQyOTQ3NDUzNDAsIDQyOTQ3MzcxNDgsIDQyOTQ3Mjg5NTYsIDQyOTQ3MjE3ODgsIDQyOTQ3MTM1OTYsIDQyOTQ3MDU0MDQsXHJcbiAgICA0MjkzMTMyNTEyLCA0MjkxNTU5NjI0LCA0Mjg5OTg2NzQwLCA0Mjg4NDEzODUyLCA0Mjg2ODQwOTY0LCA0Mjg1NTMwMjIwLCA0MjgzOTU3MzM2LCA0MjgyMzg0NDQ4LFxyXG4gICAgNDI5MjY2NzY0NCwgNDI5MTg3OTE2NCwgNDI5MTA5MDY4NCwgNDI5MDU2NTM3MiwgNDI4OTc3Njg5MiwgNDI4ODk4ODQxMiwgNDI4ODQ2MjA3NiwgNDI4NzY3NDYyMCxcclxuICAgIDQyODY2MjM5OTYsIDQyODU1NzIzNDgsIDQyODQ1MjE3MjQsIDQyODQyNTc1MjAsIDQyODM5OTMzMjAsIDQyODM3MzAxNDAsIDQyODM0NjU5MzYsIDQyODMyMDI3NjAsXHJcbiAgICA0MjgyOTM5NTgwLCA0MjgyNjc1MzgwLCA0MjgyNDExMTc2LCA0MjgyMTQ4MDAwLCA0MjgxODg0ODI4LCA0MjgxNjIxNjQ4LCA0MjgxMzU4NDcyLCA0MjgxMDk0MjcyLFxyXG4gICAgNDI4MDgzMTA5MiwgNDI4MDU2NzkxNiwgNDI4MDMwMzcwOCwgNDI4MDA0MDUzMiwgNDI3OTc3NzM1MiwgNDI3OTc3NTI5NiwgNDI3OTUxMjEyMCwgNDI3ODk4NDc0NCxcclxuICAgIDQyODQ3NDM3NzYsIDQyODQ3NjkyODAsIDQyODQ1MDYxMTIsIDQyODAwMjUwODgsIDQyODEwNzM2NjQsIDQyNzkyNDc5MjAsIDQyODI5MDg3NDQsIDQyODM0MzMwNDAsXHJcbiAgICA0MjgxNTk3OTUyLCA0MjgwMDMyMjg0LCA0MjgzMTkwMzQ4LCA0Mjg0MjQzMDM2LCA0MjgyNDAwODMyLCA0MjgxMzQ4MTQ0LCA0MjgxNjExMzE2LCA0Mjk0MjQzNTQ0LFxyXG4gICAgNDI5MzQ1NDAwOCwgNDI5MjY2NDQ3NiwgNDI5MTM0ODU5NiwgNDI5MDgyMjIxNiwgNDI5MDAzMjY3MiwgNDI4OTc2OTUwNCwgNDI4ODk3OTk2OCwgNDI4ODE5MDQ2NCxcclxuICAgIDQyODc0MDA5NjAsIDQyODY4NzQ2MjQsIDQyODYzNDgyODgsIDQyODYwODUxMjAsIDQyODU4MjE5NTIsIDQyODU1NTg3ODQsIDQyODUyOTU2MTYsIDQyODcxMDMxMjhdKTtcclxuIiwiaW1wb3J0IHtwYWxldHRlfSBmcm9tICcuLi9EZWZzL3BhbGV0dGUnO1xyXG5pbXBvcnQge0dhbWVBc3NldHN9IGZyb20gJy4uL0dhbWUvZ2FtZS1hc3NldHMnO1xyXG5pbXBvcnQge01hcH0gZnJvbSAnLi4vR2FtZS9tYXAnO1xyXG5pbXBvcnQge1BsYXllcn0gZnJvbSAnLi4vR2FtZS9wbGF5ZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIFdvcmxkUmVuZGVyZXIge1xyXG4gICAgcHJpdmF0ZSBnYW1lQXNzZXRzOiBHYW1lQXNzZXRzO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBnYW1lV2lkdGg6IG51bWJlcjtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgZ2FtZUhlaWdodDogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBtYXA6IE1hcDtcclxuICAgIHByaXZhdGUgcGxheWVyOiBQbGF5ZXI7XHJcbiAgICBwcml2YXRlIGZvdiA9IDE7XHJcbiAgICBwcml2YXRlIHdhbGxIZWlnaHQ6IG51bWJlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihnYW1lQXNzZXRzOiBHYW1lQXNzZXRzLCBtYXA6IE1hcCwgZ2FtZVdpZHRoOiBudW1iZXIsIGdhbWVIZWlnaHQ6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuZ2FtZUFzc2V0cyA9IGdhbWVBc3NldHM7XHJcbiAgICAgICAgdGhpcy5tYXAgPSBtYXA7XHJcbiAgICAgICAgdGhpcy5nYW1lV2lkdGggPSBnYW1lV2lkdGg7XHJcbiAgICAgICAgdGhpcy5nYW1lSGVpZ2h0ID0gZ2FtZUhlaWdodDtcclxuICAgICAgICB0aGlzLndhbGxIZWlnaHQgPSB0aGlzLmdhbWVXaWR0aCAvICgyICogdGhpcy5mb3YpO1xyXG4gICAgICAgIHRoaXMucGxheWVyID0gdGhpcy5tYXAucGxheWVyO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkcmF3KGRhdGE6IERhdGFWaWV3KTogdm9pZCB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmdhbWVXaWR0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBpc1B1c2h3YWxsID0gZmFsc2U7ICAvLyByZW1lbWJlciBpZiB3YWxsIGlzIGEgcHVzaHdhbGwgdG8gYmUgYWJsZSB0byBkcmF3IGl0IGRpZmZlcmVudGx5IGlmIG5lZWRlZFxyXG4gICAgICAgICAgICAvLyBjYXN0IGEgcmF5IGZvciBlYWNoIHNjcmVlbiBjb2x1bW5cclxuICAgICAgICAgICAgLy8gY3VycmVudCBjb2x1bW4gcG9zaXRpb24gb24gdGhlIGNhbWVyYSBwbGFuZVxyXG4gICAgICAgICAgICBjb25zdCBzaGlmdCA9IHRoaXMuZm92ICogKChpIDw8IDEpIC0gdGhpcy5nYW1lV2lkdGgpIC8gdGhpcy5nYW1lV2lkdGg7XHJcbiAgICAgICAgICAgIC8vIGRpcmVjdGlvbiBvZiB0aGUgcmF5XHJcbiAgICAgICAgICAgIGxldCByZHggPSB0aGlzLnBsYXllci5keCAtIHNoaWZ0ICogdGhpcy5wbGF5ZXIuZHk7XHJcbiAgICAgICAgICAgIGxldCByZHkgPSB0aGlzLnBsYXllci5keSArIHNoaWZ0ICogdGhpcy5wbGF5ZXIuZHg7XHJcbiAgICAgICAgICAgIC8vIHNjcmVlbiBwb2ludCBjb29yZGluYXRlcyBpbiB0aGUgZGlyZWN0aW9uIG9mIHRoZSByYXlcclxuICAgICAgICAgICAgY29uc3Qgc3ggPSB0aGlzLnBsYXllci54ICsgcmR4O1xyXG4gICAgICAgICAgICBjb25zdCBzeSA9IHRoaXMucGxheWVyLnkgKyByZHk7XHJcbiAgICAgICAgICAgIC8vIGRpcmVjdGlvbiBpbiB3aGljaCB0aGUgcmF5IG1vdmVzIGFsb25nIGVhY2ggYXhpc1xyXG4gICAgICAgICAgICBjb25zdCBzdGVweCA9IHJkeCA+PSAwID8gMSA6IC0xO1xyXG4gICAgICAgICAgICBjb25zdCBzdGVweSA9IHJkeSA+PSAwID8gMSA6IC0xO1xyXG4gICAgICAgICAgICAvLyB0YWtlIGFic29sdXRlIHZhbHVlcyBvZiByYXkgZGlyZWN0aW9uXHJcbiAgICAgICAgICAgIHJkeCA9IHN0ZXB4ICogcmR4O1xyXG4gICAgICAgICAgICByZHkgPSBzdGVweSAqIHJkeTtcclxuICAgICAgICAgICAgLy8gbWFwIHBvc2l0aW9uIG9mIHRoZSByYXkgb24gdGhlIG1hcCAoc3RhcnRpbmcgZnJvbSB0aGUgdGhpcy5wbGF5ZXIgcG9zaXRpb24pXHJcbiAgICAgICAgICAgIGxldCBjeCA9IH5+dGhpcy5wbGF5ZXIueDtcclxuICAgICAgICAgICAgbGV0IGN5ID0gfn50aGlzLnBsYXllci55O1xyXG4gICAgICAgICAgICAvLyByZW1haW5pbmcgZnJhY3Rpb25hbCBkaXN0YW5jZSBmcm9tIHRoZSByYXkgcG9zaXRpb24gdG8gdGhlIG5leHQgY2VsbCAoMCA8IHJmeCwgcmZ5IDw9IDEpXHJcbiAgICAgICAgICAgIGxldCByZnggPSBzdGVweCA+IDAgPyAxIC0gKHRoaXMucGxheWVyLnggJSAxKSA6IHRoaXMucGxheWVyLnggJSAxO1xyXG4gICAgICAgICAgICBpZiAocmZ4ID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZnggPSAxO1xyXG4gICAgICAgICAgICAgICAgY3ggKz0gc3RlcHg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IHJmeSA9IHN0ZXB5ID4gMCA/IDEgLSAodGhpcy5wbGF5ZXIueSAlIDEpIDogdGhpcy5wbGF5ZXIueSAlIDE7XHJcbiAgICAgICAgICAgIGlmIChyZnkgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJmeSA9IDE7XHJcbiAgICAgICAgICAgICAgICBjeSArPSBzdGVweTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBsb2NhdGlvbiBvZiB0aGUgcmF5IGNvbGxpc2lvbiBvbiBhIHNvbGlkIHN1cmZhY2VcclxuICAgICAgICAgICAgbGV0IHJ4LFxyXG4gICAgICAgICAgICAgICAgcnk7XHJcbiAgICAgICAgICAgIC8vIHRvdGFsIHRpbWUgdHJhdmVsZWQgYnkgdGhlIHJheVxyXG4gICAgICAgICAgICBsZXQgdCA9IDA7XHJcbiAgICAgICAgICAgIC8vIHBsYW5lMCB2YWx1ZSBvZiB0aGUgY2VsbCB2aXNpdGVkIGJ5IHRoZSByYXlcclxuICAgICAgICAgICAgbGV0IG0wO1xyXG4gICAgICAgICAgICAvLyBjb29yZGluYXRlIG9uIHRoZSB3YWxsIHRpbGUgd2hlcmUgdGhlIHJheSBoaXQgKDAgPD0gdHggPD0gMSlcclxuICAgICAgICAgICAgbGV0IHR4O1xyXG4gICAgICAgICAgICAvLyBpbmRleCBvZiB0aWxlIHRvIGRpc3BsYXlcclxuICAgICAgICAgICAgbGV0IHRleHR1cmVJbmRleDtcclxuICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICAgICAgICAgIG0wID0gdGhpcy5tYXAubWFwMChjeCwgY3kpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG0wIDw9IDYzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaGl0IGEgd2FsbFxyXG4gICAgICAgICAgICAgICAgICAgIGxldCB3YWxsU2hpZnQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1hcC5tYXAxKGN4LCBjeSkgPT09IDk4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzUHVzaHdhbGwgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwdXNod2FsbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGltZXI6IGFueTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZXIgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0aW1lciA9IHdhbGxUaW1lcnMuZmluZChmdW5jdGlvbiAob2JqKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqLnggPT09IGN4ICYmIG9iai55ID09PSBjeTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7Ki9cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRpbWVyICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhbGxTaGlmdCA9IHRpbWVyLnQgLyA2NDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aW1lci5keCAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdhbGwgbW92ZXMgaG9yaXpvbnRhbGx5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJkeCAqIHJmeSA+PSByZHkgKiB3YWxsU2hpZnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmF5IGhpdHMgd2FsbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkdCA9IHdhbGxTaGlmdCAvIHJkeDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdCArPSBkdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmZ5IC09IGR0ICogcmR5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZnggLT0gd2FsbFNoaWZ0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJheSBtb3ZlcyB0byBuZXh0IGNlbGxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNQdXNod2FsbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkdCA9IHJmeSAvIHJkeTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdCArPSBkdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmZ5ID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3kgKz0gc3RlcHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJmeCAtPSBkdCAqIHJkeDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3YWxsIG1vdmVzIHZlcnRpY2FsbHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmR5ICogcmZ4ID49IHJkeCAqIHdhbGxTaGlmdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByYXkgaGl0cyB3YWxsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGR0ID0gd2FsbFNoaWZ0IC8gcmR5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ICs9IGR0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZnggLT0gZHQgKiByZHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJmeSAtPSB3YWxsU2hpZnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmF5IG1vdmVzIHRvIG5leHQgY2VsbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1B1c2h3YWxsID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGR0ID0gcmZ4IC8gcmR4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ICs9IGR0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZnggPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjeCArPSBzdGVweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmZ5IC09IGR0ICogcmR5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJmeCA9PT0gMSAtIHdhbGxTaGlmdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBOUyB3YWxsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmVJbmRleCA9IDIgKiBtMCAtIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZpeCB0ZXh0dXJlIG9yaWVudGF0aW9uIGRlcGVuZGluZyBvbiByYXkgZGlyZWN0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR4ID0gc3RlcHggKiBzdGVweSA+IDAgPyAxIC0gcmZ5IDogcmZ5O1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVXIHdhbGxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUluZGV4ID0gMiAqIG0wIC0gMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZml4IHRleHR1cmUgb3JpZW50YXRpb24gZGVwZW5kaW5nIG9uIHJheSBkaXJlY3Rpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgdHggPSBzdGVweCAqIHN0ZXB5IDwgMCA/IDEgLSByZnggOiByZng7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtMCA8PSAxMDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBoaXQgYSBkb29yXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZG9vciA9IHRoaXMubWFwLmRvb3JzLmdldChjeC50b0ZpeGVkKCkgKyBjeS50b0ZpeGVkKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBkb29yU2hpZnQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVyID0gZG9vci5nZXRUaW1lcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aW1lcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGltZXIub3BlbmluZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9vclNoaWZ0ID0gdGltZXIudCAvIDY0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9vclNoaWZ0ID0gMSAtIHRpbWVyLnQgLyA2NDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZG9vci5pc09wZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG9vclNoaWZ0ID0gMTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG0wICUgMiA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBOUyBkb29yXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZnggPj0gLjUgJiYgKHJmeCAtIC41KSAqIHJkeSA8IHJmeSAqIHJkeCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmF5IGhpdHMgdGhlIGNlbnRyYWwgZG9vciBsaW5lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkdCA9IChyZnggLSAuNSkgLyByZHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ICs9IGR0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmZ5IC09IGR0ICogcmR5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmZ4ID0gLjU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eCA9IHN0ZXB5ID4gMCA/IDEgLSByZnkgOiByZnk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eCAtPSBkb29yU2hpZnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHggPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJheSBoaXRzIHRoZSBkb29yXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChtMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDkwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUluZGV4ID0gOTk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA5MjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmVJbmRleCA9IDEwNTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDk0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUluZGV4ID0gMTA1O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUluZGV4ID0gMTAzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZnggKiByZHkgPj0gcmZ5ICogcmR4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBoaXQgdGhlIHNpZGUgd2FsbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZHQgPSByZnkgLyByZHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ICs9IGR0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmZ4IC09IGR0ICogcmR4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmZ5ID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN5ICs9IHN0ZXB5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUluZGV4ID0gMTAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHggPSBzdGVweCA+IDAgPyAxIC0gcmZ4IDogcmZ4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBwYXNzIHRocm91Z2hcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGR0ID0gcmZ4IC8gcmR4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdCArPSBkdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJmeSAtPSBkdCAqIHJkeTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJmeCA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjeCArPSBzdGVweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVXIGRvb3JcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJmeSA+PSAuNSAmJiAocmZ5IC0gLjUpICogcmR4IDwgcmZ4ICogcmR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByYXkgaGl0cyB0aGUgY2VudHJhbCBkb29yIGxpbmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGR0ID0gKHJmeSAtIC41KSAvIHJkeTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQgKz0gZHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZnggLT0gZHQgKiByZHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZnkgPSAuNTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR4ID0gc3RlcHggPiAwID8gMSAtIHJmeCA6IHJmeDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR4IC09IGRvb3JTaGlmdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eCA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmF5IGhpdHMgdGhlIGRvb3JcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKG0wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgOTE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlSW5kZXggPSA5ODtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDkzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUluZGV4ID0gMTA0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgOTU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlSW5kZXggPSAxMDQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlSW5kZXggPSAxMDI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJmeSAqIHJkeCA+PSByZnggKiByZHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGhpdCB0aGUgc2lkZSB3YWxsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkdCA9IHJmeCAvIHJkeDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQgKz0gZHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZnkgLT0gZHQgKiByZHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZnggPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3ggKz0gc3RlcHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlSW5kZXggPSAxMDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eCA9IHN0ZXB5ID4gMCA/IDEgLSByZnkgOiByZnk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBhc3MgdGhyb3VnaFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZHQgPSByZnkgLyByZHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ICs9IGR0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmZ4IC09IGR0ICogcmR4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmZ5ID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN5ICs9IHN0ZXB5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gbW92ZSB0byB0aGUgbmV4dCBjZWxsXHJcbiAgICAgICAgICAgICAgICBpZiAocmZ4ICogcmR5IDw9IHJmeSAqIHJkeCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG1vdmUgdG8gbmV4dCBjZWxsIGhvcml6b250YWxseVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGR0ID0gcmZ4IC8gcmR4O1xyXG4gICAgICAgICAgICAgICAgICAgIHQgKz0gZHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgcmZ4ID0gMTtcclxuICAgICAgICAgICAgICAgICAgICBjeCArPSBzdGVweDtcclxuICAgICAgICAgICAgICAgICAgICByZnkgLT0gZHQgKiByZHk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG1vdmUgdG8gbmV4dCBjZWxsIHZlcnRpY2FsbHlcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkdCA9IHJmeSAvIHJkeTtcclxuICAgICAgICAgICAgICAgICAgICB0ICs9IGR0O1xyXG4gICAgICAgICAgICAgICAgICAgIHJmeSA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgY3kgKz0gc3RlcHk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmZ4IC09IGR0ICogcmR4O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGNvbXB1dGUgcmF5IGxvY2F0aW9uXHJcbiAgICAgICAgICAgIHJ4ID0gc3RlcHggPiAwID8gY3ggKyAxIC0gcmZ4IDogY3ggKyByZng7XHJcbiAgICAgICAgICAgIHJ5ID0gc3RlcHkgPiAwID8gY3kgKyAxIC0gcmZ5IDogY3kgKyByZnk7XHJcbiAgICAgICAgICAgIGNvbnN0IGggPSB0aGlzLndhbGxIZWlnaHQgLyAoMiAqIHQpOyAvLyBoZWlnaHQgb2YgdGhlIGxpbmUgcmVwcmVzZW50aW5nIHRoZSB3YWxsIG9uIHRoZSBjdXJyZW50IGNvbHVtblxyXG4gICAgICAgICAgICBjb25zdCB6SW5kZXggPSBbXTtcclxuICAgICAgICAgICAgekluZGV4W2ldID0gdDtcclxuICAgICAgICAgICAgbGV0IHlpID0gfn4odGhpcy5nYW1lSGVpZ2h0IC8gMiAtIGgpO1xyXG4gICAgICAgICAgICBsZXQgeWYgPSAodGhpcy5nYW1lSGVpZ2h0IC8gMiAtIGgpICUgMTtcclxuICAgICAgICAgICAgY29uc3Qgc3RlcGkgPSB+fihoIC8gMzIpO1xyXG4gICAgICAgICAgICBjb25zdCBzdGVwZiA9IChoIC8gMzIpICUgMTtcclxuICAgICAgICAgICAgY29uc3QgdGV4ZWxPZmZzZXQgPSB0aGlzLm1hcC53YWxsVGV4dHVyZU9mZnNldCArIDQwOTYgKiB0ZXh0dXJlSW5kZXggKyA2NCAqIH5+KDY0ICogdHgpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8PSB5aTsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhLnNldFVpbnQzMigodGhpcy5nYW1lV2lkdGggKiBqICsgaSkgPDwgMiwgcGFsZXR0ZVsyOV0sIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgZGF0YS5zZXRVaW50MzIoKHRoaXMuZ2FtZVdpZHRoICogKHRoaXMuZ2FtZUhlaWdodCAtIDEgLSBqKSArIGkpIDw8IDIsIHBhbGV0dGVbMjVdLCB0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gdGV4ZWxPZmZzZXQ7IGogPCB0ZXhlbE9mZnNldCArIDY0OyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBjb2w7XHJcbiAgICAgICAgICAgICAgICBjb2wgPSBwYWxldHRlW3RoaXMuZ2FtZUFzc2V0cy53c01hcC5nZXRVaW50OChqKV07XHJcbiAgICAgICAgICAgICAgICB5ZiArPSBzdGVwZjtcclxuICAgICAgICAgICAgICAgIGlmICh5ZiA+PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgayA9IE1hdGgubWF4KDAsIHlpKTsgayA8IE1hdGgubWluKHRoaXMuZ2FtZUhlaWdodCwgeWkgKyBzdGVwaSArIDEpOyBrKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5zZXRVaW50MzIoKHRoaXMuZ2FtZVdpZHRoICogayArIGkpIDw8IDIsIGNvbCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHlpICs9IHN0ZXBpICsgMTtcclxuICAgICAgICAgICAgICAgICAgICB5ZiAtPSAxO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBrID0gTWF0aC5tYXgoMCwgeWkpOyBrIDwgTWF0aC5taW4odGhpcy5nYW1lSGVpZ2h0LCB5aSArIHN0ZXBpKTsgaysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuc2V0VWludDMyKCh0aGlzLmdhbWVXaWR0aCAqIGsgKyBpKSA8PCAyLCBjb2wsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB5aSArPSBzdGVwaTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQge0Rvb3J9IGZyb20gJy4uL0VudGl0aWVzL2Rvb3InO1xyXG5pbXBvcnQge0dhbWVBc3NldHN9IGZyb20gJy4uL0dhbWUvZ2FtZS1hc3NldHMnO1xyXG5pbXBvcnQge1dvcmxkUmVuZGVyZXJ9IGZyb20gJy4uL1JlbmRlcmluZy93b3JsZC1yZW5kZXJlcic7XHJcbmltcG9ydCB7TWFwfSBmcm9tICcuL21hcCc7XHJcbmltcG9ydCB7UGxheWVyfSBmcm9tICcuL3BsYXllcic7XHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZSB7XHJcbiAgICBwcml2YXRlIGdhbWVXaWR0aCA9IDY0MDtcclxuICAgIHByaXZhdGUgZ2FtZUhlaWdodCA9IDQwMDtcclxuICAgIHByaXZhdGUgY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xyXG4gICAgcHJpdmF0ZSBpbWFnZURhdGE6IEltYWdlRGF0YTtcclxuICAgIHByaXZhdGUgcGl4ZWxzOiBEYXRhVmlldztcclxuICAgIHByaXZhdGUgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcclxuICAgIHByaXZhdGUgZ2FtZUFzc2V0czogR2FtZUFzc2V0cztcclxuICAgIHByaXZhdGUgd29ybGRSZW5kZXJlcjogV29ybGRSZW5kZXJlcjtcclxuICAgIHByaXZhdGUgcGxheWVyOiBQbGF5ZXI7XHJcbiAgICBwcml2YXRlIG1hcDogTWFwO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQsIGdhbWVBc3NldHM6IEdhbWVBc3NldHMpIHtcclxuICAgICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcclxuICAgICAgICB0aGlzLmdhbWVBc3NldHMgPSBnYW1lQXNzZXRzO1xyXG4gICAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gdGhpcy5nYW1lV2lkdGg7XHJcbiAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gdGhpcy5nYW1lSGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuY29udGV4dCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJywge2FscGhhOiBmYWxzZX0pO1xyXG4gICAgICAgIHRoaXMuaW1hZ2VEYXRhID0gbmV3IEltYWdlRGF0YSh0aGlzLmdhbWVXaWR0aCwgdGhpcy5nYW1lSGVpZ2h0KTtcclxuICAgICAgICB0aGlzLnBpeGVscyA9IG5ldyBEYXRhVmlldyh0aGlzLmltYWdlRGF0YS5kYXRhLmJ1ZmZlcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGluaXRpYWxpemUoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5tYXAgPSB0aGlzLmdhbWVBc3NldHMubG9hZExldmVsKDApO1xyXG4gICAgICAgIHRoaXMucGxheWVyID0gdGhpcy5tYXAucGxheWVyO1xyXG4gICAgICAgIHRoaXMud29ybGRSZW5kZXJlciA9IG5ldyBXb3JsZFJlbmRlcmVyKHRoaXMuZ2FtZUFzc2V0cywgdGhpcy5tYXAsIHRoaXMuZ2FtZVdpZHRoLCB0aGlzLmdhbWVIZWlnaHQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGUoa2V5czogYW55KTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIuaGFuZGxlSW5wdXQoa2V5cyk7XHJcbiAgICAgICAgdGhpcy5tYXAuaGFuZGxlSW5wdXQoa2V5cyk7XHJcbiAgICAgICAgdGhpcy5tYXAudGljaygpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkcmF3KCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMud29ybGRSZW5kZXJlci5kcmF3KHRoaXMucGl4ZWxzKTtcclxuICAgICAgICB0aGlzLmNvbnRleHQucHV0SW1hZ2VEYXRhKHRoaXMuaW1hZ2VEYXRhLCAwLCAwKTtcclxuICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMuY2FudmFzLCAwLCAwKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQge0dhbWVBc3NldHN9IGZyb20gJy4vR2FtZS9nYW1lLWFzc2V0cyc7XHJcbmltcG9ydCB7R2FtZX0gZnJvbSAnLi9HYW1lL2dhbWUnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFdvbGYge1xyXG4gICAgcHJpdmF0ZSBnYW1lQXNzZXRzID0gbmV3IEdhbWVBc3NldHMoKTtcclxuICAgIHByaXZhdGUgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcclxuICAgIHByaXZhdGUgZ2FtZTogR2FtZTtcclxuICAgIHByaXZhdGUga2V5czogYW55ID0ge307XHJcblxyXG4gICAgcHVibGljIGFzeW5jIHJ1bigpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICBhd2FpdCB0aGlzLmdhbWVBc3NldHMubG9hZFJlc291cmNlcygpO1xyXG4gICAgICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJykgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XHJcbiAgICAgICAgdGhpcy5nYW1lID0gbmV3IEdhbWUodGhpcy5jYW52YXMsIHRoaXMuZ2FtZUFzc2V0cyk7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmNhbnZhcyk7XHJcbiAgICAgICAgdGhpcy5nYW1lLmluaXRpYWxpemUoKTtcclxuICAgICAgICB0aGlzLnRpY2sgPSB0aGlzLnRpY2suYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLnRpY2soKTtcclxuICAgICAgICBkb2N1bWVudC5vbmtleWRvd24gPSBldiA9PiB7XHJcbiAgICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIHRoaXMua2V5c1tldi5rZXldID0gdHJ1ZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGRvY3VtZW50Lm9ua2V5dXAgPSBldiA9PiB7XHJcbiAgICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIHRoaXMua2V5c1tldi5rZXldID0gZmFsc2U7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB0aWNrKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZ2FtZS51cGRhdGUodGhpcy5rZXlzKTtcclxuICAgICAgICB0aGlzLmdhbWUuZHJhdygpO1xyXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnRpY2spO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7V29sZn0gZnJvbSAnLi93b2xmJztcclxuXHJcbndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbiAoKTogdm9pZCB7XHJcbiAgICBjb25zdCB3b2xmID0gbmV3IFdvbGYoKTtcclxuICAgIHdvbGYucnVuKCkuY2F0Y2goeCA9PiB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcih4KTtcclxuICAgIH0pO1xyXG59O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9